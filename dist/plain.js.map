{"version":3,"file":"plain.js","sources":["../src/var.ts","../src/factory/mapsEventListener.ts","../src/options/default.ts","../src/coordtransform.ts","../src/utils.ts","../src/constructors/amap/index.ts","../src/constructors/bmap/index.ts","../src/constructors/gmap/index.ts","../src/style.ts","../src/plain.ts"],"sourcesContent":["export default {\n    DEBUG: true,\n    name: 'plain',\n    coordType: 'DEFAULT',\n    setCoordType(type: string): void {\n        this.coordType = type;\n    }\n};","// Return an EventListener that can be used with Layer.off();\nimport Layer from './layer';\nimport O from '../options/mapOptions';\n\nexport default class MapsEventListener {\n    eventName: string;\n    host: Layer;           // Plain.Layer\n    handler: Function;    // Event handler\n    listener: any;        // Original MapsEventListener(eg: google.maps.event)\n    \n    constructor(parm: O.EventListenerOptions) {\n        this.eventName = parm.eventName;\n        this.host = parm.host;\n        this.handler = parm.handler;\n        this.listener = parm.listener;\n    }\n}","export default {\n    polyline: {\n        color: '#3388ff',\n        weight: 3,\n        opacity: 0.8,\n    }\n}","let x_PI = 3.14159265358979324 * 3000.0 / 180.0;\nlet PI = 3.1415926535897932384626;\nlet a = 6378245.0;\nlet ee = 0.00669342162296594323;\n/**\n * 百度坐标系 (BD-09) 与 火星坐标系 (GCJ-02)的转换\n * 即 百度 转 谷歌、高德\n * @param bd_lon\n * @param bd_lat\n * @returns {*[]}\n */\nlet bd09togcj02 = function bd09togcj02(bd_lat: number, bd_lon: number) {\n    let bd_lon = +bd_lon;\n    let bd_lat = +bd_lat;\n    let x = bd_lon - 0.0065;\n    let y = bd_lat - 0.006;\n    let z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * x_PI);\n    let theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * x_PI);\n    let gg_lng = z * Math.cos(theta);\n    let gg_lat = z * Math.sin(theta);\n    return [gg_lat, gg_lng]\n};\n\n/**\n * 火星坐标系 (GCJ-02) 与百度坐标系 (BD-09) 的转换\n * 即谷歌、高德 转 百度\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nlet gcj02tobd09 = function gcj02tobd09(lat: number, lng: number) {\n    let lat = +lat;\n    let lng = +lng;\n    let z = Math.sqrt(lng * lng + lat * lat) + 0.00002 * Math.sin(lat * x_PI);\n    let theta = Math.atan2(lat, lng) + 0.000003 * Math.cos(lng * x_PI);\n    let bd_lng = z * Math.cos(theta) + 0.0065;\n    let bd_lat = z * Math.sin(theta) + 0.006;\n    return [bd_lat, bd_lng]\n};\n\n/**\n * WGS84转GCj02\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nlet wgs84togcj02 = function wgs84togcj02(lat: number, lng: number) {\n    let lat = +lat;\n    let lng = +lng;\n    if (out_of_china(lat, lng)) {\n        return [lat, lng]\n    } else {\n        let dlat = transformlat(lat - 35.0, lng - 105.0);\n        let dlng = transformlng(lat - 35.0, lng - 105.0);\n        let radlat = lat / 180.0 * PI;\n        let magic = Math.sin(radlat);\n        magic = 1 - ee * magic * magic;\n        let sqrtmagic = Math.sqrt(magic);\n        dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);\n        dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);\n        let mglat = lat + dlat;\n        let mglng = lng + dlng;\n        return [mglat, mglng]\n    }\n};\n\n/**\n * GCJ02 转换为 WGS84\n * @param lng\n * @param lat\n * @returns {*[]}\n */\nlet gcj02towgs84 = function gcj02towgs84(lat: number, lng: number) {\n    let lat = +lat;\n    let lng = +lng;\n    if (out_of_china(lat, lng)) {\n        return [lat, lng]\n    } else {\n        let dlat = transformlat(lat - 35.0, lng - 105.0);\n        let dlng = transformlng(lat - 35.0, lng - 105.0);\n        let radlat = lat / 180.0 * PI;\n        let magic = Math.sin(radlat);\n        magic = 1 - ee * magic * magic;\n        let sqrtmagic = Math.sqrt(magic);\n        dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);\n        dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);\n        let mglat = lat + dlat;\n        let mglng = lng + dlng;\n        return [lat * 2 - mglat, lng * 2 - mglng]\n    }\n};\n\nlet transformlat = function transformlat(lat: number, lng: number) {\n    let lat = +lat;\n    let lng = +lng;\n    let ret = -100.0 + 2.0 * lng + 3.0 * lat + 0.2 * lat * lat + 0.1 * lng * lat + 0.2 * Math.sqrt(Math.abs(lng));\n    ret += (20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) * 2.0 / 3.0;\n    ret += (20.0 * Math.sin(lat * PI) + 40.0 * Math.sin(lat / 3.0 * PI)) * 2.0 / 3.0;\n    ret += (160.0 * Math.sin(lat / 12.0 * PI) + 320 * Math.sin(lat * PI / 30.0)) * 2.0 / 3.0;\n    return ret\n};\n\nlet transformlng = function transformlng(lat: number, lng: number) {\n    let lat = +lat;\n    let lng = +lng;\n    let ret = 300.0 + lng + 2.0 * lat + 0.1 * lng * lng + 0.1 * lng * lat + 0.1 * Math.sqrt(Math.abs(lng));\n    ret += (20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) * 2.0 / 3.0;\n    ret += (20.0 * Math.sin(lng * PI) + 40.0 * Math.sin(lng / 3.0 * PI)) * 2.0 / 3.0;\n    ret += (150.0 * Math.sin(lng / 12.0 * PI) + 300.0 * Math.sin(lng / 30.0 * PI)) * 2.0 / 3.0;\n    return ret\n};\n\n/**\n * 判断是否在国内，不在国内则不做偏移\n * @param lng\n * @param lat\n * @returns {boolean}\n */\nlet out_of_china = function out_of_china(lat: number, lng: number) {\n    let lat = +lat;\n    let lng = +lng;\n    // 纬度3.86~53.55,经度73.66~135.05\n    return !(lng > 73.66 && lng < 135.05 && lat > 3.86 && lat < 53.55);\n};\n\nexport default {\n    bd09togcj02: bd09togcj02,\n    gcj02tobd09: gcj02tobd09,\n    wgs84togcj02: wgs84togcj02,\n    gcj02towgs84: gcj02towgs84\n}","import variable from './var';\nimport LatLng from './factory/latlng';\nimport coordtransform from './coordtransform';\n\n// Print infomation\nexport function log(v: any): void {\n    if (v instanceof Error) {\n        console.error(v);\n    } else if (variable.DEBUG) {\n        console.log(`[${variable.name}] `, v);\n    }\n}\n\n// Return a rectangle that cover all points\nexport function getBound(latlngs: LatLng[]): LatLng[] {\n    let rectangle;\n    let minLat = latlngs[0][0],\n        minLng = latlngs[0][1],\n        maxLat = minLat,\n        maxLng = minLng;\n    latlngs.map(latlng => {\n        if (latlng[0] < minLat) {\n            minLat = latlng[0];\n        } else if (latlng[0] > maxLat) {\n            maxLat = latlng[0];\n        }\n        if (latlng[1] < minLng) {\n            minLng = latlng[1];\n        } else if (latlng[1] > maxLng) {\n            maxLng = latlng[1];\n        }\n    });\n    return [[minLat, minLng], [maxLat, maxLng]];\n}\n\n// Object property assign\n// TODO: ...obj[]\nexport function objectAssign(target: {[key: string]: any}, source: {[key: string]: any}): object {\n    if ((<any>Object).assign) {\n        (<any>Object).assign(target, source);\n    } else {\n        for (let key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n}\n\n// GCJ02 to BD09\nexport function g2b(latlngs: LatLng[]): LatLng[] {\n    if (!(latlngs[0] instanceof Array)) {\n        return coordtransform.gcj02tobd09(latlngs[0], latlngs[1]);\n    }\n    return latlngs.map(latlng => {\n        return coordtransform.gcj02tobd09(latlng[0], latlng[1]);\n    });\n}\n\n// BD09 to GCJ02\nexport function b2g(latlngs: LatLng[]): LatLng[] {\n    if (!(latlngs[0] instanceof Array)) {\n        return coordtransform.bd09togcj02(latlngs[0], latlngs[1]);\n    }\n    return latlngs.map(latlng => {\n        return coordtransform.bd09togcj02(latlng[0], latlng[1]);\n    });\n}\n\nexport function w2g(latlngs: LatLng[]): LatLng[] {\n    if (!(latlngs[0] instanceof Array)) {\n        return coordtransform.wgs84togcj02(latlngs[0], latlngs[1]);\n    }\n    return latlngs.map(latlng => {\n        return coordtransform.wgs84togcj02(latlng[0], latlng[1]);\n    });\n}\n\nexport function g2w(latlngs: LatLng[]): LatLng[] {\n    if (!(latlngs[0] instanceof Array)) {\n        return coordtransform.gcj02towgs84(latlngs[0], latlngs[1]);\n    }\n    return latlngs.map(latlng => {\n        return coordtransform.gcj02towgs84(latlng[0], latlng[1]);\n    });\n}\n\nexport function w2b(latlngs: LatLng[]): LatLng[] {\n    if (!(latlngs[0] instanceof Array)) {\n        let coor = coordtransform.wgs84togcj02(latlngs[0], latlngs[1]);\n        return coordtransform.gcj02tobd09(coor[0], coor[1]);\n    }\n    let coords = latlngs.map(latlng => {\n        return coordtransform.wgs84togcj02(latlng[0], latlng[1]);\n    });\n    return coords.map(latlng => {\n        return coordtransform.gcj02tobd09(latlng[0], latlng[1]);\n    });\n}\n\nexport function b2w(latlngs: LatLng[]): LatLng[] {\n    if (!(latlngs[0] instanceof Array)) {\n        let coor = coordtransform.bd09togcj02(latlngs[0], latlngs[1]);\n        return coordtransform.gcj02towgs84(coor[0], coor[1]);\n    }\n    let coords = latlngs.map(latlng => {\n        return coordtransform.bd09togcj02(latlng[0], latlng[1]);\n    });\n    return coords.map(latlng => {\n        return coordtransform.gcj02towgs84(latlng[0], latlng[1]);\n    });\n}\n\n// Map location\nexport function locate(success?: Function, error?: Function): void {\n    if (\"geolocation\" in navigator) {\n        navigator.geolocation.getCurrentPosition(function(position) {\n            success && success(position.coords.latitude, position.coords.longitude);\n        }, function(e) {\n            error && error(e);\n        });\n    } else {\n        error && error(new Error('Geolocation is not supported by your browser'));\n    }\n}\n\n// Stop Element propagation Event\nexport function stopPropagation(el: Element, eventNameList: string[] = ['click', 'dblclick']) {\n    eventNameList.map(eventName => {\n        el.addEventListener(eventName, e => {\n            e.stopPropagation && e.stopPropagation();\n            e.stopImmediatePropagation && e.stopImmediatePropagation();\n        });\n    });\n}\n\n// Set Element style\nexport function setStyle(el: HTMLElement, style: string) {\n    style.split(';').map(s => {\n        let attr: string[] = s.split(':');\n        // let attr: {[index: number]: string} = s.split(':');\n        el.style[trim(attr[0])] = trim(attr[1]);\n    });\n}\n\n// Delete useless white space\nexport function trim(str: string = ''): string {\n    return str.replace(/^\\s+|\\s+$/g, '');\n}","/// <reference path=\"./amap.d.ts\" />\n\nimport F from '../../factory/index';\nimport F_MapsEventListener from '../../factory/mapsEventListener';\nimport * as O from '../../options/mapOptions';\nimport D from '../../options/default';\nimport * as util from '../../utils';\n\n// AMap in not defined in this file\n// But you will get this variable on window Object\n// while loaded baidu map script\n\n@eventBinder\nclass Map implements F.Map {\n    _original: AMap.Map;\n    _id: string;\n    _type: {map: string, type: string};\n    MAP_TYPE: F.MapType;        // tile type\n\n    private _boundMarkers: AMap.Marker[];      // For set Viewport\n    private _boundIcon: AMap.Icon;             // For set Viewport\n\n    constructor(opt: O.MapOption) {\n        this.MAP_TYPE = {\n            HYBRID: 'HYBRID',\n            NORMAL: 'NORMAL',   // default\n            SATELLITE: 'SATELLITE',\n            // TERRAIN: 'TERRAIN',\n        };\n        this._type = {\n            map: 'AMAP',\n            type: this.MAP_TYPE.NORMAL\n        };\n        this._original = new AMap.Map(opt.container, {\n            zoom: opt.zoom,\n            center: opt.center.slice().reverse(),\n        });\n    }\n\n    addLayer(layer: F.Layer | Array<F.Layer>) {\n        if (!layer) return;\n        if (layer instanceof Array) {\n            for (let i = 0; i < layer.length; i++) {\n                layer[i]._original.setMap(this._original);\n            }\n        } else {\n            layer._original.setMap(this._original);\n        }\n    }\n\n    removeLayer(layer: F.Layer | Array<F.Layer>) {\n        if (layer instanceof Array) {\n            for (let i = 0; i < layer.length; i++) {\n                layer[i]._original.setMap(null);\n            }\n        } else {\n            layer._original.setMap(null);\n        }\n    }\n\n    clearLayers() {\n        this._original.clearMap();\n    }\n\n    setZoom(zoom: number) {\n        this._original.setZoom(zoom);\n    }\n\n    getZoom() {\n        return this._original.getZoom();\n    }\n\n    zoomIn() {\n        this._original.zoomIn();\n    }\n\n    zoomOut() {\n        this._original.zoomOut();\n    }\n\n    fitView(latlngs: F.LatLng[], opt?: O.ViewportOption) {\n        const bound = util.getBound(latlngs);     // length === 2\n        if (this._boundMarkers) {\n            bound.map((p, i, arr) => {\n                this._boundMarkers[i].setPosition([p[1], p[0]]);\n            });\n        } else {\n            this._boundIcon = new AMap.Icon({\n                size: new AMap.Size(0, 0)\n            });\n            this._boundMarkers = bound.map(latlng => {\n                return new AMap.Marker({\n                    map: this._original,\n                    icon: this._boundIcon,\n                    position: [latlng[1], latlng[0]],\n                });\n            });\n        }\n        this._original.setFitView(this._boundMarkers);\n        // Release memory\n        this._original.remove(this._boundMarkers);\n    }\n\n    setCenter(latlng: F.LatLng) {\n        this._original.setCenter(new AMap.LngLat(latlng[1], latlng[0]));\n    }\n\n    getCenter(): F.LatLng {\n        const center = this._original.getCenter();\n        return [center.lat, center.lng];\n    }\n\n    panTo(latlng: F.LatLng) {\n        this._original.panTo(latlng.slice().reverse());\n    }\n\n    setMapType(type: string) {\n        const { MAP_TYPE } = this;\n        switch (type) {\n            case MAP_TYPE.HYBRID: {\n                this._type.type = MAP_TYPE.HYBRID;\n                this._original.setLayers([new AMap.TileLayer.Satellite(), new AMap.TileLayer.RoadNet()]);\n                break;\n            }\n            case MAP_TYPE.NORMAL: {\n                this._type.type = MAP_TYPE.NORMAL;\n                this._original.setLayers([new AMap.TileLayer()]);\n                break;\n            }\n            case MAP_TYPE.SATELLITE: {\n                this._type.type = MAP_TYPE.SATELLITE;\n                this._original.setLayers([new AMap.TileLayer.Satellite()]);\n                break;\n            }\n            case MAP_TYPE.TERRAIN: {\n                // TODO\n                break;\n            }\n        }\n        return this;\n    }\n}\n\nclass Layer implements F.Layer {\n    _original: any;\n    _id: string;\n    _opt: object;\n    _box?: HTMLDivElement;\n    _contentBox?: HTMLDivElement;\n    constructor (opt: O.LayerOption) {\n        this._opt = opt;\n        this._original = new AMap.Marker({\n            bubble: false,\n            clickable: false,\n            position: [0, 0],\n            content: 'custom Layer',\n            offset: new AMap.Pixel(0, 0),\n        });\n    }\n    setLatLng (latlng: F.LatLng) {\n        this._original && this._original.setPosition(latlng.slice().reverse());\n        return this;\n    }\n    setContent (content: string | Element = '') {\n        this._original.setContent(content);\n        return this;\n    }\n    mount (map: Map) {\n        this._original.setMap(map._original);\n        return this;\n    }\n    unmount () {\n        this._original.setMap(null);\n        return this;\n    }\n    show () {\n        this._original.show();\n        return this;\n    }\n    hide () {\n        this._original.hide();\n        return this;\n    }\n    remove () {\n        this._box = null;\n        this._contentBox = null;\n        this._original = null;\n    }\n}\n\nclass Popup extends Layer {\n    constructor (opt: O.PopupOption) {\n        super(opt);\n        this._box = document.createElement('div');\n        this._box.classList.add('popup-box');\n        this._box.setAttribute('data-plain-style', '');\n        this._box.setAttribute('style', this.getStyle(opt));\n        this._contentBox = document.createElement('div');\n        this._box.innerHTML = `<div class=\"popup-arrow\"></div`;\n        this._contentBox.classList.add('popup-content');\n        this._box.appendChild(this._contentBox);\n        util.stopPropagation(this._box, ['mouseup', 'mousedown']);\n        this._original = new AMap.Marker({\n            bubble: false,\n            position: [0, 0],\n            content: this._box,\n        });\n        if (opt && opt.closeBtn === true) {\n            const closeBtn = document.createElement('button');\n            closeBtn.setAttribute('type', 'button');\n            closeBtn.classList.add('popup-close');\n            closeBtn.innerHTML = '×';\n            closeBtn.addEventListener('click', e => {\n                this.hide();\n            });\n            this._box.appendChild(closeBtn);\n        }\n    }\n    getStyle(opt: O.PopupOption = {}) {\n        let style = 'position: absolute;left: 10px;';\n        if (opt.zIndex && typeof opt.zIndex === 'number') {\n            style += `z-index:${opt.zIndex};`;\n        }\n        if (opt.offset && opt.offset instanceof Array && opt.offset.length === 2) {\n            style += `margin: ${opt.offset[0] + 30}px ${opt.offset[1]}px;`;\n        }\n        return style;\n    }\n    createContent (content: string | Element) {\n        if (typeof content === 'string') {\n            this._contentBox.innerHTML = content;\n        } else {\n            this._contentBox.innerHTML = '';\n            this._contentBox.appendChild(content);\n        }\n    }\n    setContent (content: string | Element) {\n        this.createContent(content);\n        return this;\n    }\n}\n@eventBinder\nclass Marker implements F.Marker {\n    _id: string;\n    _original: AMap.Marker;\n\n    constructor(latlng: F.LatLng, opt?: O.MarkerOption) {\n        const opts: AMap.MarkerOptions = this.formatOpt(opt, latlng);\n        this._original = new AMap.Marker(opts);\n    }\n\n    formatOpt (opt: O.MarkerOption = {}, latlng: F.LatLng): object {\n        const option = {\n            map: null,\n            position: [latlng[1], latlng[0]],\n            icon: opt.icon ? opt.icon._original : null,\n            raiseOnDrag: opt.raiseOnDrag ? opt.raiseOnDrag : true,\n            crossOnDrag: opt.crossOnDrag ? opt.crossOnDrag : true,\n            draggable: opt.draggable\n        };\n        // 19 31\n        if (opt.icon && opt.icon.anchor) {\n            option.offset = new AMap.Pixel(-opt.icon.anchor[0], -opt.icon.anchor[1]);\n        }\n        return option;\n    }\n\n    setLatLng(latlng: F.LatLng) {\n        this._original.setPosition(latlng.slice().reverse());\n        return this;\n    }\n\n    getLatLng(): F.LatLng {\n        const p =  this._original.getPosition();\n        return [p.lat, p.lng];\n    }\n\n    setIcon(icon: Icon): Marker {\n        if (icon && icon._original) {\n            this._original.setIcon(icon._original);\n        }\n        return this;\n    }\n\n    enableDragging(): Marker {\n        this._original && this._original.setDraggable(true);\n        return this;\n    }\n\n    disableDragging(): Marker {\n        this._original && this._original.setDraggable(false);\n        return this;\n    }\n}\n\n@eventBinder\nclass Polyline implements F.Polyline {\n    _id: string;\n    _original: AMap.Polyline;\n\n    constructor(latlngs: F.LatLng[], opt?: O.PolylineOption) {\n        const path = latlngs.map(latlng => {\n            return [latlng[1], latlng[0]];\n        });\n        const polylineOption = this.formatOpt(opt, path);\n        this._original = new AMap.Polyline(polylineOption);\n    }\n\n    formatOpt (opt: O.PolylineOption = {}, path: number[][]) {\n        util.objectAssign(D.polyline, opt);\n        return {\n            path: path,\n            strokeColor: D.polyline.color,\n            strokeWeight: D.polyline.weight,\n            strokeOpacity: D.polyline.opacity\n        };\n    }\n\n    setPath(latlngs: F.LatLng[]): Polyline {\n        const points = latlngs.map(latlng => {\n            return [latlng[1], latlng[0]];\n        });\n        this._original.setPath(points);\n        return this;\n    }\n\n    getPath(): F.LatLng[] {\n        const points = this._original.getPath() || [];\n        return points.map(item => {\n            return [item.lat, item.lng];\n        });\n    }\n\n    setStrokeColor(color: string = D.polyline.color): Polyline {\n        this._original && this._original.setOptions({\n            strokeColor: color,\n        });\n        return this;\n    }\n\n    setStrokeWeight(weight: number = D.polyline.weight): Polyline {\n        this._original && this._original.setOptions({\n            strokeWeight: weight,\n        });\n        return this;\n    }\n\n    setStrokeOpacity(opacity: number = D.polyline.opacity): Polyline {\n        this._original && this._original.setOptions({\n            strokeOpacity: opacity\n        });\n        return this;\n    }\n}\n\nclass Icon implements F.Icon {\n    _id: string;\n    _original: AMap.Icon;\n    anchor: F.Size;\n\n    constructor(opt: O.IconOption) {\n        const iconOption = this.formatOpt(opt);\n        this._original = new AMap.Icon(iconOption);\n        this.anchor = opt.anchor;\n    }\n\n    formatOpt(opt: O.IconOption = {}) {\n        const image = opt.url;\n        const size = opt.size ? new AMap.Size(opt.size[0], opt.size[1]) : null;\n        return {\n            image: image,\n            size: size,\n            imageSize: size,\n        };\n    }\n\n    setImageUrl(url: string) {\n\n    }\n\n    setSize(size: F.Size) {\n\n    }\n\n    setAnchor(size: F.Size) {\n\n    }\n\n    getImageUrl(): string {\n        return '';\n    }\n\n    getAnchor(): F.Size {\n        return [];\n    }\n\n    getSize(): F.Size {\n        return [];\n    }\n}\n\nexport default class B_Map implements F.Factory {\n    Util: F.Util;\n\n    constructor () {\n        this.Util = {\n            formatEvent(e: any = {}): F.Event {\n                let point;\n                if (e.lnglat) {\n                    point = [e.lnglat.lat, e.lnglat.lng];\n                }\n                return {\n                    type: e.type.replace(/^on/g, ''),\n                    target: this,\n                    e: e,\n                    p: point,\n                    pixel: JSON.parse(JSON.stringify(e.pixel))\n                };\n            }\n        };\n    }\n\n    Map(opt: O.MapOption): Map {\n        return new Map(opt);\n    }\n\n    Layer(opt: O.LayerOption) {\n        return new Layer(opt);\n    }\n\n    Popup(opt: O.LayerOption) {\n        return new Popup(opt);\n    }\n\n    Marker(latlng: F.LatLng, opt?: O.MarkerOption): Marker {\n        return new Marker(latlng, opt);\n    }\n\n    Polyline(latlngs: F.LatLng[], opt: O.PolylineOption): Polyline {\n        return new Polyline(latlngs, opt);\n    }\n\n    Icon(opt: O.IconOption): Icon {\n        return new Icon(opt);\n    }\n\n    // Load map script\n    load(key: string, resolve: Function, reject: Function): void {\n        if ((<any>window).AMap) {\n            resolve && resolve();\n            return;\n        }\n        const callbackName = 'map_init_' + Math.random().toString(16).substr(2);\n        const body = document.body;\n        const script = document.createElement('SCRIPT');\n        const url = `https://webapi.amap.com/maps?v=1.3&key=${key}&callback=${callbackName}`;\n        script.setAttribute('src', url);\n        script.setAttribute('defer', '');\n        script.setAttribute('async', '');\n        body.appendChild(script);\n        (<any>window)[callbackName] = function () {\n            delete (<any>window)[callbackName];\n            resolve && resolve();\n        };\n    }\n}\n\n/**\n * @function Set overlay eventListener\n * @param {Function} constructor\n */\nfunction eventBinder(constructor: Function) {\n    constructor.prototype.on = function(eventName: string, handler: Function): F.MapsEventListener {\n        const fn: Function = handler.bind(this);\n        const listener = this._original.on(eventName, fn);\n        return new F_MapsEventListener({\n            eventName: eventName,\n            host: this,\n            listener: listener,\n            handler: fn\n        });\n    };\n    // require MapEventListener\n    constructor.prototype.off = function(listener: F.MapsEventListener) {\n        this._original.off(listener.eventName, listener.handler);\n    };\n}\n\n// TODO: fixCoord\n","/// <reference path=\"./bmap.d.ts\" />\n\nimport V from '../../var';\nimport F from '../../factory/index';\nimport F_MapsEventListener from '../../factory/mapsEventListener';\nimport * as O from '../../options/mapOptions';\nimport D from '../../options/default';\nimport * as util from '../../utils';\n\n// BMap in not defined in this file\n// But you will get this variable on window Object\n// while loaded baidu map script\n\n@eventBinder\nclass Map implements F.Map {\n    _original: BMap.Map;\n    _id: string;\n    _type: {map: string, type: string};\n    MAP_TYPE: F.MapType;\n\n    constructor(opt: O.MapOption) {\n        const center = opt.center ? fixCoord(opt.center) : [0, 0];\n        const centerPoint = new BMap.Point(center[1], center[0]);\n        this._original = new BMap.Map(opt.container);\n        this._original.centerAndZoom(centerPoint, opt.zoom || 15);\n        this._original.enableScrollWheelZoom();\n        this.MAP_TYPE = {\n            HYBRID: 'HYBRID',\n            NORMAL: 'NORMAL',\n            SATELLITE: 'SATELLITE',\n            // TERRAIN: 'TERRAIN',\n        };\n        this._type = {\n            map: 'BMAP',\n            type: this.MAP_TYPE.NORMAL\n        };\n    }\n\n    addLayer(layer: F.Layer | Array<F.Layer>) {\n        if (!layer) return;\n        if (layer instanceof Array) {\n            for (let i = 0; i < layer.length; i++) {\n                this._original.addOverlay(layer[i]._original);\n            }\n        } else {\n            this._original.addOverlay(layer._original);\n        }\n    }\n\n    removeLayer(layer: F.Layer | Array<F.Layer>) {\n        if (layer instanceof Array) {\n            for (let i = 0; i < layer.length; i++) {\n                this._original.removeOverlay(layer[i]._original);\n            }\n        } else {\n            this._original.removeOverlay(layer._original);\n        }\n    }\n\n    clearLayers() {\n        this._original.clearOverlays();\n    }\n\n    setZoom(zoom: number) {\n        this._original.setZoom(zoom);\n    }\n\n    getZoom() {\n        return this._original.getZoom();\n    }\n\n    zoomIn() {\n        this._original.zoomIn();\n    }\n\n    zoomOut() {\n        this._original.zoomOut();\n    }\n\n    fitView(latlngs: F.LatLng[], opt?: O.ViewportOption) {\n        const points = latlngs.map(p => {\n            return {\n                lat: p[0],\n                lng: p[1]\n            };\n        });\n        this._original.setViewport(points);\n    }\n\n    setCenter(latlng: F.LatLng) {\n        latlng = <F.LatLng>fixCoord(latlng);\n        this._original.setCenter(new BMap.Point(latlng[1], latlng[0]));\n    }\n\n    getCenter(): F.LatLng {\n        const center = this._original.getCenter();\n        return [center.lat, center.lng];\n    }\n\n    panTo(latlng: F.LatLng) {\n        this._original.panTo(new BMap.Point(latlng[1], latlng[0]));\n    }\n\n    setMapType(type: string) {\n        const { MAP_TYPE } = this;\n        switch (type) {\n            case MAP_TYPE.HYBRID: {\n                this._original.setMapType(BMAP_HYBRID_MAP);\n                this._type.type = MAP_TYPE.HYBRID;\n                break;\n            }\n            case MAP_TYPE.NORMAL: {\n                this._original.setMapType(BMAP_NORMAL_MAP);\n                this._type.type = MAP_TYPE.NORMAL;\n                break;\n            }\n            case MAP_TYPE.SATELLITE: {\n                this._original.setMapType(BMAP_SATELLITE_MAP);\n                this._type.type = MAP_TYPE.SATELLITE;\n                break;\n            }\n            case MAP_TYPE.TERRAIN: {\n                // TODO\n                break;\n            }\n        }\n        return this;\n    }\n}\n\n@eventBinder\nclass Marker implements F.Marker {\n    _id: string;\n    _original: BMap.Marker;\n\n    constructor(latlng: F.LatLng, opt?: O.MarkerOption) {\n        latlng = <F.LatLng>fixCoord(latlng);\n        const point = new BMap.Point(latlng[1], latlng[0]);\n        const opts = this.formatOpt(opt);\n        this._original = new BMap.Marker(point, opts);\n    }\n\n    formatOpt (opt: O.MarkerOption = {}) {\n        return {\n            icon: opt.icon ? opt.icon._original : null,\n            // offset: opt.offset ? new BMap.Size(opt.offset[0], opt.offset[1]) : null,\n            raiseOnDrag: opt.raiseOnDrag ? opt.raiseOnDrag : true,\n            crossOnDrag: opt.crossOnDrag ? opt.crossOnDrag : true,\n            enableDragging: opt.draggable\n        };\n    }\n\n    setLatLng(latlng: F.LatLng) {\n        latlng = <F.LatLng>fixCoord(latlng);\n        const point = new BMap.Point(latlng[1], latlng[0]);\n        this._original.setPosition(point);\n        return this;\n    }\n\n    getLatLng(): F.LatLng {\n        const p =  this._original.getPosition();\n        return <F.LatLng>fixCoord([p.lat, p.lng], 'output');\n    }\n\n    setIcon(icon: Icon): Marker {\n        if (icon && icon._original) {\n            this._original.setIcon(icon._original);\n        }\n        return this;\n    }\n\n    enableDragging(): Marker {\n        this._original && this._original.enableDragging();\n        return this;\n    }\n\n    disableDragging(): Marker {\n        this._original && this._original.disableDragging();\n        return this;\n    }\n}\n\n@eventBinder\nclass Polyline implements F.Polyline {\n    _id: string;\n    _original: BMap.Polyline;\n\n    constructor(latlngs: F.LatLng[], opt?: O.PolylineOption) {\n        const points = (<F.LatLng[]>fixCoord(latlngs)).map(latlng => {\n            return new BMap.Point(latlng[1], latlng[0]);\n        });\n        this._original = new BMap.Polyline(points, this.formatOpt(opt));\n    }\n\n    formatOpt (opt: O.PolylineOption = {}) {\n        util.objectAssign(D.polyline, opt);\n        return {\n            strokeColor: D.polyline.color,\n            strokeWeight: D.polyline.weight,\n            strokeOpacity: D.polyline.opacity\n        };\n    }\n\n    setPath(latlngs: F.LatLng[]): Polyline {\n        const points =  (<F.LatLng[]>fixCoord(latlngs)).map(latlng => {\n            return new BMap.Point(latlng[1], latlng[0]);\n        });\n        this._original.setPath(points);\n        return this;\n    }\n\n    getPath(): F.LatLng[] {\n        const points = this._original.getPath() || [];\n        return <F.LatLng[]>fixCoord(points.map(item => {\n            return [item.lat, item.lng];\n        }), 'output');\n    }\n\n    setStrokeColor(color: string = D.polyline.color): Polyline {\n        this._original && this._original.setStrokeColor(color);\n        return this;\n    }\n\n    setStrokeWeight(weight: number = D.polyline.weight): Polyline {\n        this._original && this._original.setStrokeWeight(weight);\n        return this;\n    }\n\n    setStrokeOpacity(opacity: number = D.polyline.opacity): Polyline {\n        this._original && this._original.setStrokeOpacity(opacity);\n        return this;\n    }\n}\n\nclass Icon implements F.Icon {\n    _id: string;\n    _original: BMap.Icon;\n\n    constructor(opt: O.IconOption) {\n        const iconOption = this.formatOpt(opt);\n        this._original = new BMap.Icon(iconOption.url, iconOption.size, iconOption);\n        this._original.setImageSize(iconOption.size);\n    }\n\n    formatOpt(opt: O.IconOption = {}) {\n        return {\n            anchor: opt.anchor ? new BMap.Size(opt.anchor[0], opt.anchor[1]) : null,\n            url: opt.url,\n            size: opt.size ? new BMap.Size(opt.size[0], opt.size[1]) : null,\n        };\n    }\n\n    setImageUrl(url: string) {\n\n    }\n\n    setSize(size: F.Size) {\n\n    }\n\n    setAnchor(size: F.Size) {\n\n    }\n\n    getImageUrl(): string {\n        return '';\n    }\n\n    getAnchor(): F.Size {\n        return [];\n    }\n\n    getSize(): F.Size {\n        return [];\n    }\n}\n\nexport default class B_Map implements F.Factory {\n    Util: F.Util;\n    LayerConstructor: any;\n    PopupConstructor: any;\n\n    constructor () {\n        this.LayerConstructor = createLayerConstructor();\n        this.PopupConstructor = createLayerConstructor(true);\n        this.Util = {\n            formatEvent(e: any = {}): F.Event {\n                let point;\n                if (e.point) {\n                    point = <F.LatLng>fixCoord([e.point.lat, e.point.lng], 'output');\n                }\n                return {\n                    type: e.type.replace(/^on/g, ''),\n                    target: this,\n                    e: e,\n                    p: point,\n                    pixel: JSON.parse(JSON.stringify(e.pixel))\n                };\n            }\n        };\n    }\n\n    Map(opt: O.MapOption): Map {\n        return new Map(opt);\n    }\n\n    Layer(opt: O.LayerOption) {\n        return new this.LayerConstructor(opt);\n    }\n\n    Popup(opt: O.LayerOption) {\n        return new this.PopupConstructor(opt);\n    }\n\n    Marker(latlng: F.LatLng, opt?: O.MarkerOption): Marker {\n        return new Marker(latlng, opt);\n    }\n\n    Polyline(latlngs: F.LatLng[], opt: O.PolylineOption): Polyline {\n        return new Polyline(latlngs, opt);\n    }\n\n    Icon(opt: O.IconOption): Icon {\n        return new Icon(opt);\n    }\n\n    // Load map script\n    load(key: string, resolve: Function, reject: Function): void {\n        if ((<any>window).BMap) {\n            resolve && resolve();\n            return;\n        }\n        const _this = this;\n        const callbackName = 'map_init_' + Math.random().toString(16).substr(2);\n        const body = document.body;\n        const script = document.createElement('SCRIPT');\n        const url = `https://api.map.baidu.com/api?v=2.0&ak=${key}&callback=${callbackName}`;\n        script.setAttribute('src', url);\n        script.setAttribute('defer', '');\n        script.setAttribute('async', '');\n        body.appendChild(script);\n        (<any>window)[callbackName] = function () {\n            _this.LayerConstructor = createLayerConstructor();\n            _this.PopupConstructor = createLayerConstructor(true);\n            delete (<any>window)[callbackName];\n            resolve && resolve();\n        };\n    }\n}\n\n/**\n * @function Set overlay eventListener\n * @param {Function} constructor\n */\nfunction eventBinder(constructor: Function) {\n    constructor.prototype.on = function(eventName: string, handler: Function): F.MapsEventListener {\n        const fn: Function = handler.bind(this);\n        const listener = this._original.addEventListener(eventName, fn);\n        return new F_MapsEventListener({\n            eventName: eventName,\n            host: this,\n            listener: listener,\n            handler: fn\n        });\n    };\n    // require MapEventListener\n    constructor.prototype.off = function(listener: F.MapsEventListener) {\n        this._original.removeEventListener(listener.eventName, listener.handler);\n    };\n}\n\nfunction fixCoord (latlngs: F.LatLng[] | F.LatLng, type?: string): F.LatLng[] | F.LatLng {\n    if (type === 'output') {\n        if (V.coordType === 'DEFAULT') {\n            return latlngs;\n        }\n        switch (V.coordType) {\n            case ('DEFAULT'): {\n                return latlngs;\n            }\n            case ('GCJ02'): {\n                return util.b2g(<F.LatLng[]>latlngs);\n            }\n            case ('BD09'): {\n                return latlngs;\n            }\n            case ('WGS84'): {\n                return util.b2w(<F.LatLng[]>latlngs);\n            }\n        }\n    } else {\n        if (V.coordType === 'DEFAULT') {\n            return latlngs;\n        }\n        switch (V.coordType) {\n            case ('DEFAULT'): {\n                return latlngs;\n            }\n            case ('GCJ02'): {\n                return util.g2b(<F.LatLng[]>latlngs);\n            }\n            case ('BD09'): {\n                return latlngs;\n            }\n            case ('WGS84'): {\n                return util.w2b(<F.LatLng[]>latlngs);\n            }\n        }\n    }\n}\n\n// TODO: In TS Class\n/**\n * @function Create a custom layer constructor function\n * @param {Boolean} isPopup Return a popup custructor if this is true\n */\nfunction createLayerConstructor (isPopup: boolean = false): any {\n    const BMap = window.BMap;\n    if (BMap) {\n        const Layer = function (opt?: O.LayerOption) {\n            this._box = document.createElement('div');\n            this._box.setAttribute('data-plain-style', '');\n            this._opt = opt;\n            this._latlng = this._latlng || new BMap.Point(0, 0);\n            this._content = this._content || '<h1 style=\"background:#fff;\">custom Layer</h1>';\n            this.createContent();\n        };\n        Layer.prototype = new BMap.Overlay();\n        Layer.prototype.initialize = function (map: BMap.Map) {\n            this._map = map;\n            this.createContent();\n            map.getPanes().markerPane.appendChild(this._box);\n            return this._box;\n        };\n        Layer.prototype.getStyle = function(o: O.PopupOption) {\n            let opt = o || this._opt || {};\n            let style = '';\n            if (opt.zIndex && typeof opt.zIndex === 'number') {\n                style += `z-index:${opt.zIndex};`;\n            }\n            if (opt.offset && opt.offset instanceof Array && opt.offset.length === 2) {\n                style += `margin: ${opt.offset[0]}px ${opt.offset[1]}px;`;\n            }\n            return style;\n        };\n        Layer.prototype.createContent = function () {\n            this._box.innerHTML = '';\n            if (isPopup) {\n                util.stopPropagation(this._box);\n                this._box.classList.add('popup-box');\n                this._contentBox = document.createElement('div');\n                this._box.innerHTML = `<div class=\"popup-arrow\"></div>`;\n                this._contentBox.classList.add('popup-content');\n                if (typeof this._content === 'string') {\n                    this._contentBox.innerHTML = this._content;\n                } else {\n                    this._contentBox.appendChild(this._content);\n                }\n                this._box.appendChild(this._contentBox);\n                if (this._opt && this._opt.closeBtn === true) {\n                    const closeBtn = document.createElement('button');\n                    closeBtn.setAttribute('type', 'button');\n                    closeBtn.classList.add('popup-close');\n                    closeBtn.innerHTML = '×';\n                    closeBtn.addEventListener('click', e => {\n                        this.hide();\n                    });\n                    this._box.appendChild(closeBtn);\n                }\n            } else {\n                if (typeof this._content === 'string') {\n                    this._box.innerHTML = this._content;\n                } else {\n                    this._box.appendChild(this._content);\n                }\n            }\n        };\n        Layer.prototype.draw = function () {\n            if (this._map) {\n                const pixel = this._map.pointToOverlayPixel(this._latlng);\n                let style = `position: absolute; left: ${~~pixel.x}px; top: ${~~pixel.y}px;`;\n                style += this.getStyle(this._opt);\n                util.setStyle(this._box, style);\n            }\n        };\n        Layer.prototype.remove = function () {\n            this._box.parentNode.removeChild(this._box);\n            this._content = null;\n            this._contentBox = null;\n            this._box = null;\n        };\n        Layer.prototype.setContent = function (content: string | Element) {\n            this._content = content;\n            const _box = isPopup ? this._contentBox : this._box;\n            if (content instanceof Element) {\n                _box.innerHTML = '';\n                _box.appendChild(content);\n            } else {\n                _box.innerHTML = content;\n            }\n            return this;\n        };\n        Layer.prototype.setLatLng = function (latlng: F.LatLng = [0, 0]) {\n            latlng = <F.LatLng>fixCoord(latlng);\n            this._latlng = new BMap.Point(latlng[1], latlng[0]);\n            this.draw();\n            return this;\n        };\n        Layer.prototype.mount = function (target: Map) {\n            target._original.addOverlay(this);\n            return this;\n        };\n        Layer.prototype.unmount = function () {\n            this._map.removeOverlay(this);\n            return this;\n        };\n        Layer.prototype.show = function () {\n            if (this._box) {\n                this._box.style.display = 'block';\n            }\n            return this;\n        };\n        Layer.prototype.hide = function () {\n            if (this._box) {\n                this._box.style.display = 'none';\n            }\n            return this;\n        };\n        return Layer;\n    }\n}\n\n","\nimport F from '../../factory/index';\nimport F_MapsEventListener from '../../factory/mapsEventListener';\nimport * as O from '../../options/mapOptions';\nimport D from '../../options/default';\nimport * as util from '../../utils';\n\n// google.maps in not defined in this file\n// But you will get this variable on window Object\n// while loaded google map script\n\n@eventBinder\nclass Map implements F.Map {\n    _original: google.maps.Map;\n    _id: string;\n    _type: {map: string, type: string};\n    MAP_TYPE: F.MapType;\n    // _fitBound: google.maps.LatLngBounds;\n\n    constructor(opt: O.MapOption) {\n        const centerPoint: google.maps.LatLng = new google.maps.LatLng(opt.center[0], opt.center[1]);\n        const container = typeof opt.container === 'string' ? document.getElementById(opt.container) : opt.container;\n        this._original = new google.maps.Map(container, {\n            zoom: opt.zoom,\n            center: centerPoint,\n            mapTypeControl: false,\n            fullscreenControl: false,\n            scaleControl: false,\n            streetViewControl: false,\n            zoomControl: false\n        });\n        this.MAP_TYPE = {\n            HYBRID: 'HYBRID',\n            NORMAL: 'NORMAL',\n            TERRAIN: 'TERRAIN',\n            SATELLITE: 'SATELLITE',\n        };\n        this._type = {\n            map: 'GMAP',\n            type: this.MAP_TYPE.NORMAL\n        };\n    }\n\n    addLayer(layer: F.Layer | Array<F.Layer>) {\n        if (!layer) return;\n        if (layer instanceof Array) {\n            for (let i = 0; i < layer.length; i++) {\n                layer[i]._original.setMap(this._original);\n            }\n        } else {\n            layer._original.setMap(this._original);\n        }\n    }\n\n    removeLayer(layer: F.Layer | Array<F.Layer>) {\n        if (layer instanceof Array) {\n            for (let i = 0; i < layer.length; i++) {\n                layer[i]._original.setMap(null);\n            }\n        } else {\n            layer._original.setMap(null);\n        }\n    }\n\n    clearLayers() {\n        this._original.clearOverlays();\n    }\n\n    setZoom(zoom: number) {\n        this._original.setZoom(zoom);\n    }\n\n    getZoom() {\n        return this._original.getZoom();\n    }\n\n    zoomIn() {\n        this.setZoom(this.getZoom() + 1);\n    }\n\n    zoomOut() {\n        this.setZoom(this.getZoom() - 1);\n    }\n\n    fitView(latlngs: F.LatLng[], opt?: O.ViewportOption) {\n        const bound = util.getBound(latlngs).map(p => {\n            return new google.maps.LatLng(p[0], p[1]);\n        });\n        const googleBound = new google.maps.LatLngBounds(bound[0], bound[1]);\n        this._original.fitBounds(googleBound);\n    }\n\n    setCenter(latlng: F.LatLng) {\n        this._original.setCenter({\n            lat: latlng[0],\n            lng: latlng[1]\n        });\n    }\n\n    setMapType(type: string) {\n        const { MAP_TYPE } = this;\n        switch (type) {\n            case MAP_TYPE.HYBRID: {\n                this._original.setMapTypeId(google.maps.MapTypeId.HYBRID);\n                this._type.type = MAP_TYPE.HYBRID;\n                break;\n            }\n            case MAP_TYPE.NORMAL: {\n                this._original.setMapTypeId(google.maps.MapTypeId.ROADMAP);\n                this._type.type = MAP_TYPE.NORMAL;\n                break;\n            }\n            case MAP_TYPE.SATELLITE: {\n                this._original.setMapTypeId(google.maps.MapTypeId.SATELLITE);\n                this._type.type = MAP_TYPE.SATELLITE;\n                break;\n            }\n            case MAP_TYPE.TERRAIN: {\n                this._original.setMapTypeId(google.maps.MapTypeId.TERRAIN);\n                this._type.type = MAP_TYPE.TERRAIN;\n                break;\n            }\n        }\n        return this;\n    }\n\n    getCenter(): F.LatLng {\n        const center = this._original.getCenter();\n        return [center.lat(), center.lng()];\n    }\n\n    panTo(latlng: F.LatLng): void {\n        this._original.panTo(new google.maps.LatLng(latlng[0], latlng[1]));\n    }\n}\n\n@eventBinder\nclass Marker implements F.Marker {\n    _id: string;\n    _original: google.maps.Marker;\n\n    constructor(latlng: F.LatLng, opt?: O.MarkerOption) {\n        const point = new google.maps.LatLng(latlng[0], latlng[1]);\n        const opts = this.formatOpt(opt, point);\n        this._original = new google.maps.Marker(opts);\n    }\n\n    formatOpt (opt: O.MarkerOption = {}, p: google.maps.LatLng) {\n        return {\n            icon: opt.icon ? opt.icon._original : null,\n            position: p,\n            // offset: opt.offset ? new google.maps.Size(opt.offset[0], opt.offset[1]) : null,\n            raiseOnDrag: opt.raiseOnDrag ? opt.raiseOnDrag : true,\n            crossOnDrag: opt.crossOnDrag ? opt.crossOnDrag : true,\n            draggable: opt.draggable\n        };\n    }\n\n    setLatLng(latlng: F.LatLng) {\n        const point = new google.maps.LatLng(latlng[0], latlng[1]);\n        this._original.setPosition(point);\n        return this;\n    }\n\n    getLatLng(): F.LatLng {\n        const p =  this._original.getPosition();\n        return [p.lat(), p.lng()];\n    }\n\n    setIcon(icon: Icon): Marker {\n        if (icon && icon._original) {\n            this._original.setIcon(icon._original);\n        }\n        return this;\n    }\n\n    enableDragging(): Marker {\n        this._original && this._original.setDraggable(true);\n        return this;\n    }\n\n    disableDragging(): Marker {\n        this._original && this._original.setDraggable(false);\n        return this;\n    }\n}\n\n@eventBinder\nclass Polyline implements F.Polyline {\n    _id: string;\n    _original: google.maps.Polyline;\n\n    constructor(latlngs: F.LatLng[], opt?: O.PolylineOption) {\n        const path = latlngs.map(latlng => {\n            return new google.maps.LatLng(latlng[0], latlng[1]);\n        });\n        this._original = new google.maps.Polyline(this.formatOpt(opt, path));\n    }\n\n    formatOpt (opt: O.PolylineOption = {}, path: google.maps.LatLng[]) {\n        util.objectAssign(D.polyline, opt);\n        return {\n            path: path,\n            strokeColor: D.polyline.color,\n            strokeWeight: D.polyline.weight,\n            strokeOpacity: D.polyline.opacity\n        };\n    }\n\n    setPath(latlngs: F.LatLng[]) {\n        const path = latlngs.map(latlng => {\n            return new google.maps.LatLng(latlng[0], latlng[1]);\n        });\n        this._original.setPath(path);\n        return this;\n    }\n\n    getPath(): F.LatLng[] {\n        const points: google.maps.MVCArray<google.maps.LatLng> = this._original.getPath();\n        return points.getArray().map(item => {\n            return [item.lat(), item.lng()];\n        });\n    }\n\n    setStrokeColor(color: string = D.polyline.color): Polyline {\n        this._original && this._original.setOptions({\n            strokeColor: color,\n        });\n        return this;\n    }\n\n    setStrokeWeight(weight: number = D.polyline.weight): Polyline {\n        this._original && this._original.setOptions({\n            strokeWeight: weight,\n        });\n        return this;\n    }\n\n    setStrokeOpacity(opacity: number = D.polyline.opacity): Polyline {\n        this._original && this._original.setOptions({\n            strokeOpacity: opacity\n        });\n        return this;\n    }\n}\n\nclass Icon implements F.Icon {\n    _id: string;\n    _original: google.maps.Icon;\n\n    constructor(opt: O.IconOption) {\n        const iconOption = this.formatOpt(opt);\n        this._original = {\n            url: iconOption.url,\n            size: iconOption.size,\n            anchor: iconOption.anchor,\n            scaledSize: iconOption.scaledSize,\n        };\n    }\n\n    formatOpt(opt: O.IconOption = {}) {\n        let imageSize = opt.size ? new google.maps.Size(opt.size[0], opt.size[1]) : null;\n        return {\n            anchor: opt.anchor ? new google.maps.Point(opt.anchor[0], opt.anchor[1]) : null,\n            url: opt.url,\n            scaledSize: new google.maps.Size(100, 100, '%', '%'),\n            size: imageSize,            // marker size\n        };\n    }\n\n    setImageUrl(url: string) {\n\n    }\n\n    setSize(size: F.Size) {\n\n    }\n\n    setAnchor(size: F.Size) {\n\n    }\n\n    getImageUrl(): string {\n        return '';\n    }\n\n    getAnchor(): F.Size {\n        return [];\n    }\n\n    getSize(): F.Size {\n        return [];\n    }\n}\n\nexport default class G_Map implements F.Factory {\n    Util: F.Util;\n    LayerConstructor: any;\n    PopupConstructor: any;\n\n    constructor () {\n        this.LayerConstructor = createLayerConstructor();\n        this.PopupConstructor = createLayerConstructor(true);\n        this.Util = {\n            formatEvent(e: any = {}): F.Event {\n                let point;\n                if (e.latLng) {\n                    point = [e.latLng.lat(), e.latLng.lng()];\n                }\n                return {\n                    type: e.ta && e.ta.type,\n                    target: this,\n                    e: e,\n                    p: point,\n                    pixel: JSON.parse(JSON.stringify(e.pixel))\n                }\n            }\n        }\n    }\n\n    Map(opt: O.MapOption): Map {\n        return new Map(opt);\n    }\n\n    Layer(opt: O.LayerOption) {\n        return new this.LayerConstructor(opt);\n    }\n\n    Popup(opt: O.LayerOption) {\n        return new this.PopupConstructor(opt);\n    }\n\n    Marker(latlng: F.LatLng, opt?: O.MarkerOption): Marker {\n        return new Marker(latlng, opt);\n    }\n\n    Polyline(latlngs: F.LatLng[], opt: O.PolylineOption): Polyline {\n        return new Polyline(latlngs, opt);\n    }\n\n    Icon(opt: O.IconOption): Icon {\n        return new Icon(opt);\n    }\n\n    // Load map script\n    load(key: string, resolve: Function, reject: Function): void {\n        if ((<any>window).google && (<any>window).google.maps) {\n            resolve && resolve();\n            return;\n        }\n        const _this = this;\n        const callbackName = 'map_init_' + Math.random().toString(16).substr(2);\n        const body = document.body;\n        const script = document.createElement('SCRIPT');\n        const url = 'https://maps.googleapis.com/maps/api/js?key=' + key + '&callback=' + callbackName;\n        script.setAttribute('src', url);\n        script.setAttribute('defer', '');\n        script.setAttribute('async', '');\n        body.appendChild(script);\n        (<any>window)[callbackName] = function () {\n            _this.LayerConstructor = createLayerConstructor();\n            _this.PopupConstructor = createLayerConstructor(true);\n            delete (<any>window)[callbackName];\n            resolve && resolve();\n        };\n    }\n}\n\n/**\n * @function set overlay eventListener\n * @param {Function} constructor\n */\nfunction eventBinder(constructor: Function) {\n    // return MapEventListener\n    constructor.prototype.on = function(eventName: string, handler: Function):  F.MapsEventListener {\n        let fn: Function = handler.bind(this);\n        let listener: google.maps.MapsEventListener = this._original.addListener(eventName, fn);\n        return new F_MapsEventListener({\n            eventName: eventName,\n            host: this,\n            listener: listener,\n            handler: fn\n        });\n    }\n    // require MapEventListener\n    constructor.prototype.off = function(listener: F.MapsEventListener) {\n        google.maps.event.removeListener(listener.listener);\n    }\n}\n\n// TODO: In TS Class\n/**\n * @function Create a custom layer constructor function\n * @param {Boolean} isPopup Return a popup custructor if this is true\n */\nfunction createLayerConstructor (isPopup: boolean = false): any {\n    let google = window.google;\n    if (google && google.maps) {\n        let Layer = function (opt?: O.LayerOption) {\n            this._opt = opt;\n            this.init();\n        };\n        Layer.prototype = new google.maps.OverlayView();\n        Layer.prototype.init = function () {\n            this._box = document.createElement('div');\n            this._box.setAttribute('data-plain-style', '');\n            this._latlng = this._latlng || new google.maps.LatLng(0, 0);\n            this._content = this._content || `<h1 style='background:#fff;'>custom Layer</h1>`;\n            this.createContent();\n        };\n        Layer.prototype.getStyle = function(o: O.PopupOption) {\n            let opt = o || this._opt || {};\n            let style = '';\n            if (opt.zIndex && typeof opt.zIndex === 'number') {\n                style += `z-index:${opt.zIndex};`;\n            }\n            if (opt.offset && opt.offset instanceof Array && opt.offset.length === 2) {\n                style += `margin: ${opt.offset[0]}px ${opt.offset[1]}px;`;\n            }\n            return style;\n        };\n        Layer.prototype.createContent = function () {\n            this._box.innerHTML = '';\n            if (isPopup) {\n                util.stopPropagation(this._box);\n                this._box.classList.add('popup-box');\n                this._contentBox = document.createElement('div');\n                this._box.innerHTML = `<div class='popup-arrow'></div>`;\n                this._contentBox.classList.add('popup-content');\n                if (typeof this._content === 'string') {\n                    this._contentBox.innerHTML = this._content;\n                } else {\n                    this._contentBox.appendChild(this._content);\n                }\n                this._box.appendChild(this._contentBox);\n                if (this._opt && this._opt.closeBtn === true) {\n                    const closeBtn = document.createElement('button');\n                    closeBtn.setAttribute('type', 'button');\n                    closeBtn.classList.add('popup-close');\n                    closeBtn.innerHTML = '×';\n                    closeBtn.addEventListener('click', e => {\n                        this.hide();\n                    });\n                    this._box.appendChild(closeBtn);\n                }\n            } else {\n                if (typeof this._content === 'string') {\n                    this._box.innerHTML = this._content;\n                } else {\n                    this._box.appendChild(this._content);\n                }\n            }\n        };\n        Layer.prototype.onAdd = function () {\n            const panes = this.getPanes();\n            this.createContent();\n            panes.overlayImage.appendChild(this._box);\n        };\n        Layer.prototype.draw = function () {\n            let project = this.getProjection();\n            // hold the draggable map\n            if (project) {\n                let pixel = project.fromLatLngToDivPixel(this._latlng);\n                let style = `position: absolute; left: ${~~pixel.x}px; top: ${~~pixel.y}px;`;\n                style += this.getStyle(this._opt);\n                util.setStyle(this._box, style);\n            }\n        };\n        Layer.prototype.remove = function () {\n            this._box.parentNode.removeChild(this._box);\n            this._content = null;\n            this._contentBox = null;\n            this._box = null;\n        };\n        Layer.prototype.setContent = function (content: string | Element) {\n            this._content = content;\n            let _box = isPopup ? this._contentBox : this._box;\n            if (content instanceof Element) {\n                _box.innerHTML = '';\n                _box.appendChild(content);\n            } else {\n                _box.innerHTML = content;\n            }\n            return this;\n        };\n        Layer.prototype.setLatLng = function (latlng: F.LatLng = [0, 0]) {\n            this._latlng = new google.maps.LatLng(latlng[0], latlng[1]);\n            this.draw();\n            return this;\n        };\n        Layer.prototype.mount = function (target: Map) {\n            this.init();\n            this.setMap(target._original);\n            return this;\n        };\n        Layer.prototype.unmount = function () {\n            this.setMap(null);\n            return this;\n        };\n        Layer.prototype.show = function () {\n            if (this._box) {\n                this._box.style.display = 'block';\n            }\n            return this;\n        };\n        Layer.prototype.hide = function () {\n            if (this._box) {\n                this._box.style.display = 'none';\n            }\n            return this;\n        };\n        return Layer;\n    }\n}\n","export default `\n.popup-box[data-plain-style] {\n    z-index: 9;\n    padding: 0 0 14px 0;\n    cursor: arrow;\n    transform: translate3d(-50%, -100%, 0);\n    translate: transform ease 0;\n    animation: fade-in-data-plain-style linear 0.12s;\n    pointer-events: auto !important;\n    cursor: auto;\n}\n.popup-box[data-plain-style] .popup-content {\n    padding: 0.5rem 1rem;\n    min-height: 2rem;\n    min-width: 4rem;\n    color: #222;\n    box-shadow: 0 3px 12px rgba(0,0,0,0.38);\n    background: #fff;\n    border-radius: 4px;\n}\n.popup-box[data-plain-style] .popup-arrow{\n    position: absolute;\n    left: 50%;\n    bottom: 0;\n    height: 14px;\n    width: 28px;\n    overflow: hidden;\n    transform: translate3d(-50%, 0, 0);\n}\n.popup-box[data-plain-style] .popup-close {\n    position: absolute;\n    display: block;\n    right: 0;\n    top: 0;\n    height: 20px;\n    width: 20px;\n    border: none;\n    color: #888;\n    font-size: 20px;\n    line-height: 14px;\n    cursor: pointer;\n    background: transparent;\n    outline: none;\n}\n.popup-box[data-plain-style] .popup-close:hover {\n    color: #666;\n}\n.popup-box[data-plain-style] .popup-arrow::after {\n    display: block;\n    content: '';\n    position: absolute;\n    top: -12px;\n    left: 3px;\n    background: #fff;\n    height: 20px;\n    width: 20px;\n    border-radius: 2px;\n    transform: rotate3d(0, 0, 1, 45deg);\n    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.34);\n}\n@keyframes fade-in-data-plain-style {\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n}\n`;","import V from './var';\nimport F from './factory/index';\nimport LatLng from './factory/latlng';\nimport O from './options/mapOptions';\nimport A_Map from './constructors/amap/index';      // gaode map\nimport B_Map from './constructors/bmap/index';      // baidu map\nimport G_Map from './constructors/gmap/index';      // google map\nimport * as util from './utils';\nimport styleString from './style';\n// Error with import require: can not find module 'object-assign'\n// import objectAssign = require('object-assign');\n\nexport default class Plain {\n    FACTORYS: {[key: string]: F.Factory};\n    Util: F.Util;\n    map: Object;\n    _v: Object;\n    factory: F.Factory;\n\n    constructor(factory?: F.Factory | string) {\n        const that = this;\n        factory && this.use(factory);\n        // Various utility functions\n        this.Util = {\n            formatEvent(e: any): F.Event {\n                return that.factory.Util.formatEvent.call(this, e);\n            }\n        };\n        util.objectAssign(this.Util, util);\n        this._v = V;\n        const style = document.createElement('style');\n        style.innerHTML = styleString;\n        document.head.appendChild(style);\n    }\n\n    // Load the map factory plugin\n    use(factory: F.Factory | string, key?: string): Plain {\n        if (typeof factory === 'string') {\n            switch (factory) {\n                case 'BMAP': {\n                    this.factory = new B_Map();\n                    break;\n                }\n                case 'GMAP': {\n                    this.factory = new G_Map();\n                    break;\n                }\n                case 'AMAP': {\n                    this.factory = new A_Map();\n                    break;\n                }\n                case 'LMAP': {\n                    // this.factory = new L_Map();\n                }\n            }\n        } else {\n            this.factory = factory;\n        }\n        return this;\n    }\n\n    // Create Map\n    @tagging()\n    Map([opt] : [O.MapOption]) {\n        return this.factory.Map(opt);\n    }\n\n    // custom layer\n    @tagging()\n    Layer([opt]: [O.LayerOption]) {\n        return this.factory.Layer(opt);\n    }\n\n    // custom layer\n    @tagging()\n    Popup([opt]: [O.LayerOption]) {\n        return this.factory.Popup(opt);\n    }\n\n    // Create Marker\n    @tagging()\n    Marker([latlng, opt] : [LatLng, O.MarkerOption]) {\n        return this.factory.Marker(latlng, opt);\n    }\n\n    // Create Polyline\n    @tagging()\n    Polyline([latlngs, opt] : [LatLng[], O.PolylineOption]) {\n        return this.factory.Polyline(latlngs, opt);\n    }\n\n    // Create Icon\n    @tagging()\n    Icon([opt] : [O.IconOption]) {\n        return this.factory.Icon(opt);\n    }\n\n    loadMap(key: string, resolve: Function, reject: Function): void {\n        this.factory.load(key, resolve, reject);\n    }\n}\n\n/**\n * @function set _id property\n */\nfunction tagging(): Function {\n    return function(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n        let oldFn = descriptor.value;\n        descriptor.value= function(...arg: any[]) {\n            let value = oldFn.call(this, arg);\n            value._id = Math.random().toString(16).substr(2);\n            return value;\n        };\n    }\n}\n\n"],"names":["variable","util.getBound","util.stopPropagation","util.objectAssign","F_MapsEventListener","eventBinder","Map","Marker","Polyline","Icon","util.b2g","util.b2w","util.g2b","util.w2b","util.setStyle","createLayerConstructor","B_Map","A_Map"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,QAAe;IACX,KAAK,EAAE,IAAI;IACX,IAAI,EAAE,OAAO;IACb,SAAS,EAAE,SAAS;IACpB,YAAY,YAAC,IAAY;QACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;KACzB;CACJ,CAAC;;;ACHa;IAMX,2BAAY,IAA4B;QACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;KACjC;IACL,wBAAC;CAAA;;AChBD,QAAe;IACX,QAAQ,EAAE;QACN,KAAK,EAAE,SAAS;QAChB,MAAM,EAAE,CAAC;QACT,OAAO,EAAE,GAAG;KACf;CACJ,CAAA;;;ACND,IAAI,IAAI,GAAG,mBAAmB,GAAG,MAAM,GAAG,KAAK,CAAC;AAChD,IAAI,EAAE,GAAG,wBAAwB,CAAC;AAClC,IAAI,CAAC,GAAG,SAAS,CAAC;AAClB,IAAI,EAAE,GAAG,sBAAsB,CAAC;AAQhC,IAAI,WAAW,GAAG,qBAAqB,MAAc,EAAE,MAAc;IACjE,IAAI,MAAM,GAAG,CAAC,MAAM,CAAC;IACrB,IAAI,MAAM,GAAG,CAAC,MAAM,CAAC;IACrB,IAAI,CAAC,GAAG,MAAM,GAAG,MAAM,CAAC;IACxB,IAAI,CAAC,GAAG,MAAM,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;IAChE,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;IAC7D,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACjC,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACjC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;CAC1B,CAAC;AASF,IAAI,WAAW,GAAG,qBAAqB,GAAW,EAAE,GAAW;IAC3D,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;IAC1E,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;IACnE,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC;IAC1C,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;IACzC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;CAC1B,CAAC;AAQF,IAAI,YAAY,GAAG,sBAAsB,GAAW,EAAE,GAAW;IAC7D,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE;QACxB,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;KACpB;SAAM;QACH,IAAI,IAAI,GAAG,YAAY,CAAC,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC;QACjD,IAAI,IAAI,GAAG,YAAY,CAAC,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC;QACjD,IAAI,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,EAAE,CAAC;QAC9B,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC7B,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,KAAK,CAAC;QAC/B,IAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,GAAG,CAAC,IAAI,GAAG,KAAK,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,KAAK,KAAK,GAAG,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC;QACpE,IAAI,GAAG,CAAC,IAAI,GAAG,KAAK,KAAK,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;QAChE,IAAI,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC;QACvB,IAAI,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC;QACvB,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAA;KACxB;CACJ,CAAC;AAQF,IAAI,YAAY,GAAG,sBAAsB,GAAW,EAAE,GAAW;IAC7D,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,YAAY,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE;QACxB,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;KACpB;SAAM;QACH,IAAI,IAAI,GAAG,YAAY,CAAC,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC;QACjD,IAAI,IAAI,GAAG,YAAY,CAAC,GAAG,GAAG,IAAI,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC;QACjD,IAAI,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,EAAE,CAAC;QAC9B,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC7B,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,KAAK,CAAC;QAC/B,IAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,GAAG,CAAC,IAAI,GAAG,KAAK,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,KAAK,KAAK,GAAG,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC;QACpE,IAAI,GAAG,CAAC,IAAI,GAAG,KAAK,KAAK,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;QAChE,IAAI,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC;QACvB,IAAI,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC;QACvB,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG,KAAK,EAAE,GAAG,GAAG,CAAC,GAAG,KAAK,CAAC,CAAA;KAC5C;CACJ,CAAC;AAEF,IAAI,YAAY,GAAG,sBAAsB,GAAW,EAAE,GAAW;IAC7D,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC9G,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC;IACvF,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC;IACjF,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC;IACzF,OAAO,GAAG,CAAA;CACb,CAAC;AAEF,IAAI,YAAY,GAAG,sBAAsB,GAAW,EAAE,GAAW;IAC7D,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvG,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC;IACvF,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC;IACjF,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC;IAC3F,OAAO,GAAG,CAAA;CACb,CAAC;AAQF,IAAI,YAAY,GAAG,sBAAsB,GAAW,EAAE,GAAW;IAC7D,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC;IAEf,OAAO,EAAE,GAAG,GAAG,KAAK,IAAI,GAAG,GAAG,MAAM,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC;CACtE,CAAC;AAEF,qBAAe;IACX,WAAW,EAAE,WAAW;IACxB,WAAW,EAAE,WAAW;IACxB,YAAY,EAAE,YAAY;IAC1B,YAAY,EAAE,YAAY;CAC7B,CAAA;;;aC7HmB,CAAM;IACtB,IAAI,CAAC,YAAY,KAAK,EAAE;QACpB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KACpB;SAAM,IAAIA,CAAQ,CAAC,KAAK,EAAE;QACvB,OAAO,CAAC,GAAG,CAAC,MAAIA,CAAQ,CAAC,IAAI,OAAI,EAAE,CAAC,CAAC,CAAC;KACzC;CACJ;AAGD,kBAAyB,OAAiB;IACtC,IAAI,SAAS,CAAC;IACd,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACtB,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACtB,MAAM,GAAG,MAAM,EACf,MAAM,GAAG,MAAM,CAAC;IACpB,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;QACd,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE;YACpB,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;SACtB;aAAM,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE;YAC3B,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;SACtB;QACD,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE;YACpB,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;SACtB;aAAM,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE;YAC3B,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;SACtB;KACJ,CAAC,CAAC;IACH,OAAO,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;CAC/C;AAID,sBAA6B,MAA4B,EAAE,MAA4B;IACnF,IAAU,MAAO,CAAC,MAAM,EAAE;QAChB,MAAO,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;KACxC;SAAM;QACH,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;YACpB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;gBAC5B,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;aAC7B;SACJ;KACJ;IACD,OAAO,MAAM,CAAC;CACjB;AAGD,aAAoB,OAAiB;IACjC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;QAChC,OAAO,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7D;IACD,OAAO,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;QACrB,OAAO,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3D,CAAC,CAAC;CACN;AAGD,aAAoB,OAAiB;IACjC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;QAChC,OAAO,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7D;IACD,OAAO,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;QACrB,OAAO,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3D,CAAC,CAAC;CACN;AAED,aAAoB,OAAiB;IACjC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;QAChC,OAAO,cAAc,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9D;IACD,OAAO,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;QACrB,OAAO,cAAc,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5D,CAAC,CAAC;CACN;AAED,aAAoB,OAAiB;IACjC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;QAChC,OAAO,cAAc,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9D;IACD,OAAO,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;QACrB,OAAO,cAAc,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5D,CAAC,CAAC;CACN;AAED,aAAoB,OAAiB;IACjC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;QAChC,IAAI,IAAI,GAAG,cAAc,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,OAAO,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KACvD;IACD,IAAI,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;QAC3B,OAAO,cAAc,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5D,CAAC,CAAC;IACH,OAAO,MAAM,CAAC,GAAG,CAAC,UAAA,MAAM;QACpB,OAAO,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3D,CAAC,CAAC;CACN;AAED,aAAoB,OAAiB;IACjC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;QAChC,IAAI,IAAI,GAAG,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,OAAO,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KACxD;IACD,IAAI,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;QAC3B,OAAO,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3D,CAAC,CAAC;IACH,OAAO,MAAM,CAAC,GAAG,CAAC,UAAA,MAAM;QACpB,OAAO,cAAc,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5D,CAAC,CAAC;CACN;AAGD,gBAAuB,OAAkB,EAAE,KAAgB;IACvD,IAAI,aAAa,IAAI,SAAS,EAAE;QAC5B,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,UAAS,QAAQ;YACtD,OAAO,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SAC3E,EAAE,UAAS,CAAC;YACT,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;SACrB,CAAC,CAAC;KACN;SAAM;QACH,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC,CAAC;KAC7E;CACJ;AAGD,yBAAgC,EAAW,EAAE,aAA+C;IAA/C,gCAAA,iBAA2B,OAAO,EAAE,UAAU,CAAC;IACxF,aAAa,CAAC,GAAG,CAAC,UAAA,SAAS;QACvB,EAAE,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAA,CAAC;YAC5B,CAAC,CAAC,eAAe,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC;YACzC,CAAC,CAAC,wBAAwB,IAAI,CAAC,CAAC,wBAAwB,EAAE,CAAC;SAC9D,CAAC,CAAC;KACN,CAAC,CAAC;CACN;AAGD,kBAAyB,EAAe,EAAE,KAAa;IACnD,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC;QAClB,IAAI,IAAI,GAAa,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAElC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3C,CAAC,CAAC;CACN;AAGD,cAAqB,GAAgB;IAAhB,sBAAA,QAAgB;IACjC,OAAO,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;CACxC;;;;;;;;;;;;;;;;;;;;ACxID;IASI,aAAY,GAAgB;QACxB,IAAI,CAAC,QAAQ,GAAG;YACZ,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,QAAQ;YAChB,SAAS,EAAE,WAAW;SAEzB,CAAC;QACF,IAAI,CAAC,KAAK,GAAG;YACT,GAAG,EAAE,MAAM;YACX,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;SAC7B,CAAC;QACF,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE;YACzC,IAAI,EAAE,GAAG,CAAC,IAAI;YACd,MAAM,EAAE,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE;SACvC,CAAC,CAAC;KACN;IAED,sBAAQ,GAAR,UAAS,KAA+B;QACpC,IAAI,CAAC,KAAK;YAAE,OAAO;QACnB,IAAI,KAAK,YAAY,KAAK,EAAE;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC7C;SACJ;aAAM;YACH,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC1C;KACJ;IAED,yBAAW,GAAX,UAAY,KAA+B;QACvC,IAAI,KAAK,YAAY,KAAK,EAAE;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACnC;SACJ;aAAM;YACH,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SAChC;KACJ;IAED,yBAAW,GAAX;QACI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;KAC7B;IAED,qBAAO,GAAP,UAAQ,IAAY;QAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KAChC;IAED,qBAAO,GAAP;QACI,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;KACnC;IAED,oBAAM,GAAN;QACI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;KAC3B;IAED,qBAAO,GAAP;QACI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;KAC5B;IAED,qBAAO,GAAP,UAAQ,OAAmB,EAAE,GAAsB;QAAnD,iBAqBC;QApBG,IAAM,KAAK,GAAGC,QAAa,CAAC,OAAO,CAAC,CAAC;QACrC,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,KAAK,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC,EAAE,GAAG;gBAChB,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACnD,CAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC;gBAC5B,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;aAC5B,CAAC,CAAC;YACH,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,GAAG,CAAC,UAAA,MAAM;gBACjC,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC;oBACnB,GAAG,EAAE,KAAI,CAAC,SAAS;oBACnB,IAAI,EAAE,KAAI,CAAC,UAAU;oBACrB,QAAQ,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;iBACnC,CAAC,CAAC;aACN,CAAC,CAAC;SACN;QACD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAE9C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KAC7C;IAED,uBAAS,GAAT,UAAU,MAAgB;QACtB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACnE;IAED,uBAAS,GAAT;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;KACnC;IAED,mBAAK,GAAL,UAAM,MAAgB;QAClB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;KAClD;IAED,wBAAU,GAAV,UAAW,IAAY;QACX,4BAAQ,CAAU;QAC1B,QAAQ,IAAI;YACR,KAAK,QAAQ,CAAC,MAAM,EAAE;gBAClB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAClC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;gBACzF,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,MAAM,EAAE;gBAClB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAClC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBACjD,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,SAAS,EAAE;gBACrB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC;gBACrC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBAC3D,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,OAAO,EAAE;gBAEnB,MAAM;aACT;SACJ;QACD,OAAO,IAAI,CAAC;KACf;IAhIL;QAAC,WAAW;WAAA;IAiIZ,UAAC;CAAA,IAAA;AAED;IAMI,eAAa,GAAkB;QAC3B,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAChB,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC;YAC7B,MAAM,EAAE,KAAK;YACb,SAAS,EAAE,KAAK;YAChB,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,OAAO,EAAE,cAAc;YACvB,MAAM,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;SAC/B,CAAC,CAAC;KACN;IACD,yBAAS,GAAT,UAAW,MAAgB;QACvB,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;QACvE,OAAO,IAAI,CAAC;KACf;IACD,0BAAU,GAAV,UAAY,OAA8B;QAA9B,0BAAA,YAA8B;QACtC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACnC,OAAO,IAAI,CAAC;KACf;IACD,qBAAK,GAAL,UAAO,GAAQ;QACX,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACrC,OAAO,IAAI,CAAC;KACf;IACD,uBAAO,GAAP;QACI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC;KACf;IACD,oBAAI,GAAJ;QACI,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,OAAO,IAAI,CAAC;KACf;IACD,oBAAI,GAAJ;QACI,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,OAAO,IAAI,CAAC;KACf;IACD,sBAAM,GAAN;QACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;KACzB;IACL,YAAC;CAAA,IAAA;AAED;IAAoB,yBAAK;IACrB,eAAa,GAAkB;QADnC,iBAkDC;QAhDO,kBAAM,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACrC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,kCAAgC,CAAC;QACvD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACxCC,eAAoB,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC;YAC7B,MAAM,EAAE,KAAK;YACb,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,OAAO,EAAE,IAAI,CAAC,IAAI;SACrB,CAAC,CAAC;QACH,IAAI,GAAG,IAAI,GAAG,CAAC,QAAQ,KAAK,IAAI,EAAE;YAC9B,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAClD,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YACxC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACtC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;YACzB,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC;gBAChC,KAAI,CAAC,IAAI,EAAE,CAAC;aACf,CAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SACnC;KACJ;IACD,wBAAQ,GAAR,UAAS,GAAuB;QAAvB,sBAAA,QAAuB;QAC5B,IAAI,KAAK,GAAG,gCAAgC,CAAC;QAC7C,IAAI,GAAG,CAAC,MAAM,IAAI,OAAO,GAAG,CAAC,MAAM,KAAK,QAAQ,EAAE;YAC9C,KAAK,IAAI,aAAW,GAAG,CAAC,MAAM,MAAG,CAAC;SACrC;QACD,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,YAAY,KAAK,IAAI,GAAG,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YACtE,KAAK,IAAI,cAAW,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,YAAM,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,QAAK,CAAC;SAClE;QACD,OAAO,KAAK,CAAC;KAChB;IACD,6BAAa,GAAb,UAAe,OAAyB;QACpC,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC7B,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,OAAO,CAAC;SACxC;aAAM;YACH,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC;YAChC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SACzC;KACJ;IACD,0BAAU,GAAV,UAAY,OAAyB;QACjC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC;KACf;IACL,YAAC;CAAA,CAlDmB,KAAK,GAkDxB;AAED;IAII,gBAAY,MAAgB,EAAE,GAAoB;QAC9C,IAAM,IAAI,GAAuB,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QAC7D,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KAC1C;IAED,0BAAS,GAAT,UAAW,GAAwB,EAAE,MAAgB;QAA1C,sBAAA,QAAwB;QAC/B,IAAM,MAAM,GAAG;YACX,GAAG,EAAE,IAAI;YACT,QAAQ,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI;YAC1C,WAAW,EAAE,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI;YACrD,WAAW,EAAE,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI;YACrD,SAAS,EAAE,GAAG,CAAC,SAAS;SAC3B,CAAC;QAEF,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;YAC7B,MAAM,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5E;QACD,OAAO,MAAM,CAAC;KACjB;IAED,0BAAS,GAAT,UAAU,MAAgB;QACtB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC;KACf;IAED,0BAAS,GAAT;QACI,IAAM,CAAC,GAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QACxC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;KACzB;IAED,wBAAO,GAAP,UAAQ,IAAU;QACd,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;YACxB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC1C;QACD,OAAO,IAAI,CAAC;KACf;IAED,+BAAc,GAAd;QACI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACpD,OAAO,IAAI,CAAC;KACf;IAED,gCAAe,GAAf;QACI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC;KACf;IAnDL;QAAC,WAAW;cAAA;IAoDZ,aAAC;CAAA,IAAA;AAGD;IAII,kBAAY,OAAmB,EAAE,GAAsB;QACnD,IAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;YAC3B,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SACjC,CAAC,CAAC;QACH,IAAM,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;KACtD;IAED,4BAAS,GAAT,UAAW,GAA0B,EAAE,IAAgB;QAA5C,sBAAA,QAA0B;QACjCC,YAAiB,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QACnC,OAAO;YACH,IAAI,EAAE,IAAI;YACV,WAAW,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK;YAC7B,YAAY,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM;YAC/B,aAAa,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO;SACpC,CAAC;KACL;IAED,0BAAO,GAAP,UAAQ,OAAmB;QACvB,IAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;YAC7B,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SACjC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;KACf;IAED,0BAAO,GAAP;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC;QAC9C,OAAO,MAAM,CAAC,GAAG,CAAC,UAAA,IAAI;YAClB,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SAC/B,CAAC,CAAC;KACN;IAED,iCAAc,GAAd,UAAe,KAAgC;QAAhC,wBAAA,QAAgB,CAAC,CAAC,QAAQ,CAAC,KAAK;QAC3C,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;YACxC,WAAW,EAAE,KAAK;SACrB,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACf;IAED,kCAAe,GAAf,UAAgB,MAAkC;QAAlC,yBAAA,SAAiB,CAAC,CAAC,QAAQ,CAAC,MAAM;QAC9C,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;YACxC,YAAY,EAAE,MAAM;SACvB,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACf;IAED,mCAAgB,GAAhB,UAAiB,OAAoC;QAApC,0BAAA,UAAkB,CAAC,CAAC,QAAQ,CAAC,OAAO;QACjD,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;YACxC,aAAa,EAAE,OAAO;SACzB,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACf;IAzDL;QAAC,WAAW;gBAAA;IA0DZ,eAAC;CAAA,IAAA;AAED;IAKI,cAAY,GAAiB;QACzB,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;KAC5B;IAED,wBAAS,GAAT,UAAU,GAAsB;QAAtB,sBAAA,QAAsB;QAC5B,IAAM,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;QACtB,IAAM,IAAI,GAAG,GAAG,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QACvE,OAAO;YACH,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE,IAAI;YACV,SAAS,EAAE,IAAI;SAClB,CAAC;KACL;IAED,0BAAW,GAAX,UAAY,GAAW;KAEtB;IAED,sBAAO,GAAP,UAAQ,IAAY;KAEnB;IAED,wBAAS,GAAT,UAAU,IAAY;KAErB;IAED,0BAAW,GAAX;QACI,OAAO,EAAE,CAAC;KACb;IAED,wBAAS,GAAT;QACI,OAAO,EAAE,CAAC;KACb;IAED,sBAAO,GAAP;QACI,OAAO,EAAE,CAAC;KACb;IACL,WAAC;CAAA,IAAA;AAEc;IAGX;QACI,IAAI,CAAC,IAAI,GAAG;YACR,WAAW,YAAC,CAAW;gBAAX,oBAAA,MAAW;gBACnB,IAAI,KAAK,CAAC;gBACV,IAAI,CAAC,CAAC,MAAM,EAAE;oBACV,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;iBACxC;gBACD,OAAO;oBACH,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;oBAChC,MAAM,EAAE,IAAI;oBACZ,CAAC,EAAE,CAAC;oBACJ,CAAC,EAAE,KAAK;oBACR,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;iBAC7C,CAAC;aACL;SACJ,CAAC;KACL;IAED,mBAAG,GAAH,UAAI,GAAgB;QAChB,OAAO,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;KACvB;IAED,qBAAK,GAAL,UAAM,GAAkB;QACpB,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;KACzB;IAED,qBAAK,GAAL,UAAM,GAAkB;QACpB,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;KACzB;IAED,sBAAM,GAAN,UAAO,MAAgB,EAAE,GAAoB;QACzC,OAAO,IAAI,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;KAClC;IAED,wBAAQ,GAAR,UAAS,OAAmB,EAAE,GAAqB;QAC/C,OAAO,IAAI,QAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;KACrC;IAED,oBAAI,GAAJ,UAAK,GAAiB;QAClB,OAAO,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;KACxB;IAGD,oBAAI,GAAJ,UAAK,GAAW,EAAE,OAAiB,EAAE,MAAgB;QACjD,IAAU,MAAO,CAAC,IAAI,EAAE;YACpB,OAAO,IAAI,OAAO,EAAE,CAAC;YACrB,OAAO;SACV;QACD,IAAM,YAAY,GAAG,WAAW,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACxE,IAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC3B,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAM,GAAG,GAAG,4CAA0C,GAAG,kBAAa,YAAc,CAAC;QACrF,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAChC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACjC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACnB,MAAO,CAAC,YAAY,CAAC,GAAG;YAC1B,OAAa,MAAO,CAAC,YAAY,CAAC,CAAC;YACnC,OAAO,IAAI,OAAO,EAAE,CAAC;SACxB,CAAC;KACL;IACL,YAAC;CAAA,IAAA;AAMD,qBAAqB,WAAqB;IACtC,WAAW,CAAC,SAAS,CAAC,EAAE,GAAG,UAAS,SAAiB,EAAE,OAAiB;QACpE,IAAM,EAAE,GAAa,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;QAClD,OAAO,IAAIC,iBAAmB,CAAC;YAC3B,SAAS,EAAE,SAAS;YACpB,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,QAAQ;YAClB,OAAO,EAAE,EAAE;SACd,CAAC,CAAC;KACN,CAAC;IAEF,WAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAS,QAA6B;QAC9D,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;KAC5D,CAAC;CACL;;ACxdD;IAMI,aAAY,GAAgB;QACxB,IAAM,MAAM,GAAG,GAAG,CAAC,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1D,IAAM,WAAW,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,WAAW,EAAE,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;QAC1D,IAAI,CAAC,SAAS,CAAC,qBAAqB,EAAE,CAAC;QACvC,IAAI,CAAC,QAAQ,GAAG;YACZ,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,QAAQ;YAChB,SAAS,EAAE,WAAW;SAEzB,CAAC;QACF,IAAI,CAAC,KAAK,GAAG;YACT,GAAG,EAAE,MAAM;YACX,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;SAC7B,CAAC;KACL;IAED,sBAAQ,GAAR,UAAS,KAA+B;QACpC,IAAI,CAAC,KAAK;YAAE,OAAO;QACnB,IAAI,KAAK,YAAY,KAAK,EAAE;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;aACjD;SACJ;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SAC9C;KACJ;IAED,yBAAW,GAAX,UAAY,KAA+B;QACvC,IAAI,KAAK,YAAY,KAAK,EAAE;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;aACpD;SACJ;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SACjD;KACJ;IAED,yBAAW,GAAX;QACI,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;KAClC;IAED,qBAAO,GAAP,UAAQ,IAAY;QAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KAChC;IAED,qBAAO,GAAP;QACI,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;KACnC;IAED,oBAAM,GAAN;QACI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;KAC3B;IAED,qBAAO,GAAP;QACI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;KAC5B;IAED,qBAAO,GAAP,UAAQ,OAAmB,EAAE,GAAsB;QAC/C,IAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,CAAC;YACxB,OAAO;gBACH,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBACT,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;aACZ,CAAC;SACL,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;KACtC;IAED,uBAAS,GAAT,UAAU,MAAgB;QACtB,MAAM,GAAa,QAAQ,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAClE;IAED,uBAAS,GAAT;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;KACnC;IAED,mBAAK,GAAL,UAAM,MAAgB;QAClB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9D;IAED,wBAAU,GAAV,UAAW,IAAY;QACX,4BAAQ,CAAU;QAC1B,QAAQ,IAAI;YACR,KAAK,QAAQ,CAAC,MAAM,EAAE;gBAClB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;gBAC3C,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAClC,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,MAAM,EAAE;gBAClB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;gBAC3C,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAClC,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,SAAS,EAAE;gBACrB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;gBAC9C,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC;gBACrC,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,OAAO,EAAE;gBAEnB,MAAM;aACT;SACJ;QACD,OAAO,IAAI,CAAC;KACf;IAlHL;QAACC,aAAW;WAAA;IAmHZ,UAAC;CAAA,IAAA;AAGD;IAII,gBAAY,MAAgB,EAAE,GAAoB;QAC9C,MAAM,GAAa,QAAQ,CAAC,MAAM,CAAC,CAAC;QACpC,IAAM,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QACnD,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;KACjD;IAED,0BAAS,GAAT,UAAW,GAAwB;QAAxB,sBAAA,QAAwB;QAC/B,OAAO;YACH,IAAI,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI;YAE1C,WAAW,EAAE,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI;YACrD,WAAW,EAAE,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI;YACrD,cAAc,EAAE,GAAG,CAAC,SAAS;SAChC,CAAC;KACL;IAED,0BAAS,GAAT,UAAU,MAAgB;QACtB,MAAM,GAAa,QAAQ,CAAC,MAAM,CAAC,CAAC;QACpC,IAAM,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC;KACf;IAED,0BAAS,GAAT;QACI,IAAM,CAAC,GAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QACxC,OAAiB,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC;KACvD;IAED,wBAAO,GAAP,UAAQ,IAAU;QACd,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;YACxB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC1C;QACD,OAAO,IAAI,CAAC;KACf;IAED,+BAAc,GAAd;QACI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAClD,OAAO,IAAI,CAAC;KACf;IAED,gCAAe,GAAf;QACI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;QACnD,OAAO,IAAI,CAAC;KACf;IAjDL;QAACA,aAAW;cAAA;IAkDZ,aAAC;CAAA,IAAA;AAGD;IAII,kBAAY,OAAmB,EAAE,GAAsB;QACnD,IAAM,MAAM,GAAgB,QAAQ,CAAC,OAAO,CAAE,CAAC,GAAG,CAAC,UAAA,MAAM;YACrD,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/C,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;KACnE;IAED,4BAAS,GAAT,UAAW,GAA0B;QAA1B,sBAAA,QAA0B;QACjCF,YAAiB,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QACnC,OAAO;YACH,WAAW,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK;YAC7B,YAAY,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM;YAC/B,aAAa,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO;SACpC,CAAC;KACL;IAED,0BAAO,GAAP,UAAQ,OAAmB;QACvB,IAAM,MAAM,GAAiB,QAAQ,CAAC,OAAO,CAAE,CAAC,GAAG,CAAC,UAAA,MAAM;YACtD,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/C,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;KACf;IAED,0BAAO,GAAP;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC;QAC9C,OAAmB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,IAAI;YACvC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;SAC/B,CAAC,EAAE,QAAQ,CAAC,CAAC;KACjB;IAED,iCAAc,GAAd,UAAe,KAAgC;QAAhC,wBAAA,QAAgB,CAAC,CAAC,QAAQ,CAAC,KAAK;QAC3C,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACvD,OAAO,IAAI,CAAC;KACf;IAED,kCAAe,GAAf,UAAgB,MAAkC;QAAlC,yBAAA,SAAiB,CAAC,CAAC,QAAQ,CAAC,MAAM;QAC9C,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACzD,OAAO,IAAI,CAAC;KACf;IAED,mCAAgB,GAAhB,UAAiB,OAAoC;QAApC,0BAAA,UAAkB,CAAC,CAAC,QAAQ,CAAC,OAAO;QACjD,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAC3D,OAAO,IAAI,CAAC;KACf;IAjDL;QAACE,aAAW;gBAAA;IAkDZ,eAAC;CAAA,IAAA;AAED;IAII,cAAY,GAAiB;QACzB,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;QAC5E,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;KAChD;IAED,wBAAS,GAAT,UAAU,GAAsB;QAAtB,sBAAA,QAAsB;QAC5B,OAAO;YACH,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;YACvE,GAAG,EAAE,GAAG,CAAC,GAAG;YACZ,IAAI,EAAE,GAAG,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;SAClE,CAAC;KACL;IAED,0BAAW,GAAX,UAAY,GAAW;KAEtB;IAED,sBAAO,GAAP,UAAQ,IAAY;KAEnB;IAED,wBAAS,GAAT,UAAU,IAAY;KAErB;IAED,0BAAW,GAAX;QACI,OAAO,EAAE,CAAC;KACb;IAED,wBAAS,GAAT;QACI,OAAO,EAAE,CAAC;KACb;IAED,sBAAO,GAAP;QACI,OAAO,EAAE,CAAC;KACb;IACL,WAAC;CAAA,IAAA;AAEc;IAKX;QACI,IAAI,CAAC,gBAAgB,GAAG,sBAAsB,EAAE,CAAC;QACjD,IAAI,CAAC,gBAAgB,GAAG,sBAAsB,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,GAAG;YACR,WAAW,YAAC,CAAW;gBAAX,oBAAA,MAAW;gBACnB,IAAI,KAAK,CAAC;gBACV,IAAI,CAAC,CAAC,KAAK,EAAE;oBACT,KAAK,GAAa,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC;iBACpE;gBACD,OAAO;oBACH,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;oBAChC,MAAM,EAAE,IAAI;oBACZ,CAAC,EAAE,CAAC;oBACJ,CAAC,EAAE,KAAK;oBACR,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;iBAC7C,CAAC;aACL;SACJ,CAAC;KACL;IAED,mBAAG,GAAH,UAAI,GAAgB;QAChB,OAAO,IAAIC,KAAG,CAAC,GAAG,CAAC,CAAC;KACvB;IAED,qBAAK,GAAL,UAAM,GAAkB;QACpB,OAAO,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;KACzC;IAED,qBAAK,GAAL,UAAM,GAAkB;QACpB,OAAO,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;KACzC;IAED,sBAAM,GAAN,UAAO,MAAgB,EAAE,GAAoB;QACzC,OAAO,IAAIC,QAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;KAClC;IAED,wBAAQ,GAAR,UAAS,OAAmB,EAAE,GAAqB;QAC/C,OAAO,IAAIC,UAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;KACrC;IAED,oBAAI,GAAJ,UAAK,GAAiB;QAClB,OAAO,IAAIC,MAAI,CAAC,GAAG,CAAC,CAAC;KACxB;IAGD,oBAAI,GAAJ,UAAK,GAAW,EAAE,OAAiB,EAAE,MAAgB;QACjD,IAAU,MAAO,CAAC,IAAI,EAAE;YACpB,OAAO,IAAI,OAAO,EAAE,CAAC;YACrB,OAAO;SACV;QACD,IAAM,KAAK,GAAG,IAAI,CAAC;QACnB,IAAM,YAAY,GAAG,WAAW,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACxE,IAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC3B,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAM,GAAG,GAAG,4CAA0C,GAAG,kBAAa,YAAc,CAAC;QACrF,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAChC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACjC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACnB,MAAO,CAAC,YAAY,CAAC,GAAG;YAC1B,KAAK,CAAC,gBAAgB,GAAG,sBAAsB,EAAE,CAAC;YAClD,KAAK,CAAC,gBAAgB,GAAG,sBAAsB,CAAC,IAAI,CAAC,CAAC;YACtD,OAAa,MAAO,CAAC,YAAY,CAAC,CAAC;YACnC,OAAO,IAAI,OAAO,EAAE,CAAC;SACxB,CAAC;KACL;IACL,YAAC;CAAA,IAAA;AAMD,uBAAqB,WAAqB;IACtC,WAAW,CAAC,SAAS,CAAC,EAAE,GAAG,UAAS,SAAiB,EAAE,OAAiB;QACpE,IAAM,EAAE,GAAa,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;QAChE,OAAO,IAAIL,iBAAmB,CAAC;YAC3B,SAAS,EAAE,SAAS;YACpB,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,QAAQ;YAClB,OAAO,EAAE,EAAE;SACd,CAAC,CAAC;KACN,CAAC;IAEF,WAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAS,QAA6B;QAC9D,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;KAC5E,CAAC;CACL;AAED,kBAAmB,OAA8B,EAAE,IAAa;IAC5D,IAAI,IAAI,KAAK,QAAQ,EAAE;QACnB,IAAI,CAAC,CAAC,SAAS,KAAK,SAAS,EAAE;YAC3B,OAAO,OAAO,CAAC;SAClB;QACD,QAAQ,CAAC,CAAC,SAAS;YACf,MAAM,SAAS,GAAG;gBACd,OAAO,OAAO,CAAC;aAClB;YACD,MAAM,OAAO,GAAG;gBACZ,OAAOM,GAAQ,CAAa,OAAO,CAAC,CAAC;aACxC;YACD,MAAM,MAAM,GAAG;gBACX,OAAO,OAAO,CAAC;aAClB;YACD,MAAM,OAAO,GAAG;gBACZ,OAAOC,GAAQ,CAAa,OAAO,CAAC,CAAC;aACxC;SACJ;KACJ;SAAM;QACH,IAAI,CAAC,CAAC,SAAS,KAAK,SAAS,EAAE;YAC3B,OAAO,OAAO,CAAC;SAClB;QACD,QAAQ,CAAC,CAAC,SAAS;YACf,MAAM,SAAS,GAAG;gBACd,OAAO,OAAO,CAAC;aAClB;YACD,MAAM,OAAO,GAAG;gBACZ,OAAOC,GAAQ,CAAa,OAAO,CAAC,CAAC;aACxC;YACD,MAAM,MAAM,GAAG;gBACX,OAAO,OAAO,CAAC;aAClB;YACD,MAAM,OAAO,GAAG;gBACZ,OAAOC,GAAQ,CAAa,OAAO,CAAC,CAAC;aACxC;SACJ;KACJ;CACJ;AAOD,gCAAiC,OAAwB;IAAxB,0BAAA,eAAwB;IACrD,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;IACzB,IAAI,IAAI,EAAE;QACN,IAAM,KAAK,GAAG,UAAU,GAAmB;YACvC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;YAC/C,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACpD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,gDAAgD,CAAC;YAClF,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB,CAAC;QACF,KAAK,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;QACrC,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,GAAa;YAChD,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,GAAG,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACjD,OAAO,IAAI,CAAC,IAAI,CAAC;SACpB,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAS,CAAgB;YAChD,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;YAC/B,IAAI,KAAK,GAAG,EAAE,CAAC;YACf,IAAI,GAAG,CAAC,MAAM,IAAI,OAAO,GAAG,CAAC,MAAM,KAAK,QAAQ,EAAE;gBAC9C,KAAK,IAAI,aAAW,GAAG,CAAC,MAAM,MAAG,CAAC;aACrC;YACD,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,YAAY,KAAK,IAAI,GAAG,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtE,KAAK,IAAI,aAAW,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,WAAM,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,QAAK,CAAC;aAC7D;YACD,OAAO,KAAK,CAAC;SAChB,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG;YAAA,iBA+B/B;YA9BG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACzB,IAAI,OAAO,EAAE;gBACTX,eAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAChC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACrC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,mCAAiC,CAAC;gBACxD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;gBAChD,IAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;oBACnC,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;iBAC9C;qBAAM;oBACH,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC/C;gBACD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACxC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;oBAC1C,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAClD,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;oBACxC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBACtC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;oBACzB,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC;wBAChC,KAAI,CAAC,IAAI,EAAE,CAAC;qBACf,CAAC,CAAC;oBACH,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;iBACnC;aACJ;iBAAM;gBACH,IAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;oBACnC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;iBACvC;qBAAM;oBACH,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxC;aACJ;SACJ,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG;YACnB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC1D,IAAI,KAAK,GAAG,+BAA6B,CAAC,CAAC,KAAK,CAAC,CAAC,iBAAY,CAAC,CAAC,KAAK,CAAC,CAAC,QAAK,CAAC;gBAC7E,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClCY,QAAa,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aACnC;SACJ,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG;YACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SACpB,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAyB;YAC5D,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAM,IAAI,GAAG,OAAO,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;YACpD,IAAI,OAAO,YAAY,OAAO,EAAE;gBAC5B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;aAC7B;iBAAM;gBACH,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;aAC5B;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,MAAyB;YAAzB,yBAAA,UAAoB,CAAC,EAAE,CAAC,CAAC;YAC3D,MAAM,GAAa,QAAQ,CAAC,MAAM,CAAC,CAAC;YACpC,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACpD,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAW;YACzC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAClC,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG;YACtB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG;YACnB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;aACrC;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG;YACnB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aACpC;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QACF,OAAO,KAAK,CAAC;KAChB;CACJ;;ACtgBD;IAOI,aAAY,GAAgB;QACxB,IAAM,WAAW,GAAuB,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7F,IAAM,SAAS,GAAG,OAAO,GAAG,CAAC,SAAS,KAAK,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;QAC7G,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;YAC5C,IAAI,EAAE,GAAG,CAAC,IAAI;YACd,MAAM,EAAE,WAAW;YACnB,cAAc,EAAE,KAAK;YACrB,iBAAiB,EAAE,KAAK;YACxB,YAAY,EAAE,KAAK;YACnB,iBAAiB,EAAE,KAAK;YACxB,WAAW,EAAE,KAAK;SACrB,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG;YACZ,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE,SAAS;YAClB,SAAS,EAAE,WAAW;SACzB,CAAC;QACF,IAAI,CAAC,KAAK,GAAG;YACT,GAAG,EAAE,MAAM;YACX,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;SAC7B,CAAC;KACL;IAED,sBAAQ,GAAR,UAAS,KAA+B;QACpC,IAAI,CAAC,KAAK;YAAE,OAAO;QACnB,IAAI,KAAK,YAAY,KAAK,EAAE;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC7C;SACJ;aAAM;YACH,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC1C;KACJ;IAED,yBAAW,GAAX,UAAY,KAA+B;QACvC,IAAI,KAAK,YAAY,KAAK,EAAE;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACnC;SACJ;aAAM;YACH,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SAChC;KACJ;IAED,yBAAW,GAAX;QACI,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;KAClC;IAED,qBAAO,GAAP,UAAQ,IAAY;QAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;KAChC;IAED,qBAAO,GAAP;QACI,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;KACnC;IAED,oBAAM,GAAN;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;KACpC;IAED,qBAAO,GAAP;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;KACpC;IAED,qBAAO,GAAP,UAAQ,OAAmB,EAAE,GAAsB;QAC/C,IAAM,KAAK,GAAGb,QAAa,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC;YACtC,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7C,CAAC,CAAC;QACH,IAAM,WAAW,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;KACzC;IAED,uBAAS,GAAT,UAAU,MAAgB;QACtB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;YACrB,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;YACd,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;SACjB,CAAC,CAAC;KACN;IAED,wBAAU,GAAV,UAAW,IAAY;QACX,4BAAQ,CAAU;QAC1B,QAAQ,IAAI;YACR,KAAK,QAAQ,CAAC,MAAM,EAAE;gBAClB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBAC1D,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAClC,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,MAAM,EAAE;gBAClB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBAC3D,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAClC,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,SAAS,EAAE;gBACrB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC7D,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC;gBACrC,MAAM;aACT;YACD,KAAK,QAAQ,CAAC,OAAO,EAAE;gBACnB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBAC3D,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC;gBACnC,MAAM;aACT;SACJ;QACD,OAAO,IAAI,CAAC;KACf;IAED,uBAAS,GAAT;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;KACvC;IAED,mBAAK,GAAL,UAAM,MAAgB;QAClB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACtE;IA1HL;QAACI,aAAW;WAAA;IA2HZ,UAAC;CAAA,IAAA;AAGD;IAII,gBAAY,MAAgB,EAAE,GAAoB;QAC9C,IAAM,KAAK,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KACjD;IAED,0BAAS,GAAT,UAAW,GAAwB,EAAE,CAAqB;QAA/C,sBAAA,QAAwB;QAC/B,OAAO;YACH,IAAI,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI;YAC1C,QAAQ,EAAE,CAAC;YAEX,WAAW,EAAE,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI;YACrD,WAAW,EAAE,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI;YACrD,SAAS,EAAE,GAAG,CAAC,SAAS;SAC3B,CAAC;KACL;IAED,0BAAS,GAAT,UAAU,MAAgB;QACtB,IAAM,KAAK,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC;KACf;IAED,0BAAS,GAAT;QACI,IAAM,CAAC,GAAI,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QACxC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;KAC7B;IAED,wBAAO,GAAP,UAAQ,IAAU;QACd,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;YACxB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC1C;QACD,OAAO,IAAI,CAAC;KACf;IAED,+BAAc,GAAd;QACI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACpD,OAAO,IAAI,CAAC;KACf;IAED,gCAAe,GAAf;QACI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC;KACf;IAhDL;QAACA,aAAW;cAAA;IAiDZ,aAAC;CAAA,IAAA;AAGD;IAII,kBAAY,OAAmB,EAAE,GAAsB;QACnD,IAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;YAC3B,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SACvD,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;KACxE;IAED,4BAAS,GAAT,UAAW,GAA0B,EAAE,IAA0B;QAAtD,sBAAA,QAA0B;QACjCF,YAAiB,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QACnC,OAAO;YACH,IAAI,EAAE,IAAI;YACV,WAAW,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK;YAC7B,YAAY,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM;YAC/B,aAAa,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO;SACpC,CAAC;KACL;IAED,0BAAO,GAAP,UAAQ,OAAmB;QACvB,IAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;YAC3B,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SACvD,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC7B,OAAO,IAAI,CAAC;KACf;IAED,0BAAO,GAAP;QACI,IAAM,MAAM,GAA6C,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QAClF,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,UAAA,IAAI;YAC7B,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;SACnC,CAAC,CAAC;KACN;IAED,iCAAc,GAAd,UAAe,KAAgC;QAAhC,wBAAA,QAAgB,CAAC,CAAC,QAAQ,CAAC,KAAK;QAC3C,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;YACxC,WAAW,EAAE,KAAK;SACrB,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACf;IAED,kCAAe,GAAf,UAAgB,MAAkC;QAAlC,yBAAA,SAAiB,CAAC,CAAC,QAAQ,CAAC,MAAM;QAC9C,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;YACxC,YAAY,EAAE,MAAM;SACvB,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACf;IAED,mCAAgB,GAAhB,UAAiB,OAAoC;QAApC,0BAAA,UAAkB,CAAC,CAAC,QAAQ,CAAC,OAAO;QACjD,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;YACxC,aAAa,EAAE,OAAO;SACzB,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACf;IAxDL;QAACE,aAAW;gBAAA;IAyDZ,eAAC;CAAA,IAAA;AAED;IAII,cAAY,GAAiB;QACzB,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG;YACb,GAAG,EAAE,UAAU,CAAC,GAAG;YACnB,IAAI,EAAE,UAAU,CAAC,IAAI;YACrB,MAAM,EAAE,UAAU,CAAC,MAAM;YACzB,UAAU,EAAE,UAAU,CAAC,UAAU;SACpC,CAAC;KACL;IAED,wBAAS,GAAT,UAAU,GAAsB;QAAtB,sBAAA,QAAsB;QAC5B,IAAI,SAAS,GAAG,GAAG,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QACjF,OAAO;YACH,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;YAC/E,GAAG,EAAE,GAAG,CAAC,GAAG;YACZ,UAAU,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;YACpD,IAAI,EAAE,SAAS;SAClB,CAAC;KACL;IAED,0BAAW,GAAX,UAAY,GAAW;KAEtB;IAED,sBAAO,GAAP,UAAQ,IAAY;KAEnB;IAED,wBAAS,GAAT,UAAU,IAAY;KAErB;IAED,0BAAW,GAAX;QACI,OAAO,EAAE,CAAC;KACb;IAED,wBAAS,GAAT;QACI,OAAO,EAAE,CAAC;KACb;IAED,sBAAO,GAAP;QACI,OAAO,EAAE,CAAC;KACb;IACL,WAAC;CAAA,IAAA;AAEc;IAKX;QACI,IAAI,CAAC,gBAAgB,GAAGU,wBAAsB,EAAE,CAAC;QACjD,IAAI,CAAC,gBAAgB,GAAGA,wBAAsB,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,GAAG;YACR,WAAW,YAAC,CAAW;gBAAX,oBAAA,MAAW;gBACnB,IAAI,KAAK,CAAC;gBACV,IAAI,CAAC,CAAC,MAAM,EAAE;oBACV,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;iBAC5C;gBACD,OAAO;oBACH,IAAI,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI;oBACvB,MAAM,EAAE,IAAI;oBACZ,CAAC,EAAE,CAAC;oBACJ,CAAC,EAAE,KAAK;oBACR,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;iBAC7C,CAAA;aACJ;SACJ,CAAA;KACJ;IAED,mBAAG,GAAH,UAAI,GAAgB;QAChB,OAAO,IAAIT,KAAG,CAAC,GAAG,CAAC,CAAC;KACvB;IAED,qBAAK,GAAL,UAAM,GAAkB;QACpB,OAAO,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;KACzC;IAED,qBAAK,GAAL,UAAM,GAAkB;QACpB,OAAO,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;KACzC;IAED,sBAAM,GAAN,UAAO,MAAgB,EAAE,GAAoB;QACzC,OAAO,IAAIC,QAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;KAClC;IAED,wBAAQ,GAAR,UAAS,OAAmB,EAAE,GAAqB;QAC/C,OAAO,IAAIC,UAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;KACrC;IAED,oBAAI,GAAJ,UAAK,GAAiB;QAClB,OAAO,IAAIC,MAAI,CAAC,GAAG,CAAC,CAAC;KACxB;IAGD,oBAAI,GAAJ,UAAK,GAAW,EAAE,OAAiB,EAAE,MAAgB;QACjD,IAAU,MAAO,CAAC,MAAM,IAAU,MAAO,CAAC,MAAM,CAAC,IAAI,EAAE;YACnD,OAAO,IAAI,OAAO,EAAE,CAAC;YACrB,OAAO;SACV;QACD,IAAM,KAAK,GAAG,IAAI,CAAC;QACnB,IAAM,YAAY,GAAG,WAAW,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACxE,IAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC3B,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAM,GAAG,GAAG,8CAA8C,GAAG,GAAG,GAAG,YAAY,GAAG,YAAY,CAAC;QAC/F,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAChC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACjC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACnB,MAAO,CAAC,YAAY,CAAC,GAAG;YAC1B,KAAK,CAAC,gBAAgB,GAAGM,wBAAsB,EAAE,CAAC;YAClD,KAAK,CAAC,gBAAgB,GAAGA,wBAAsB,CAAC,IAAI,CAAC,CAAC;YACtD,OAAa,MAAO,CAAC,YAAY,CAAC,CAAC;YACnC,OAAO,IAAI,OAAO,EAAE,CAAC;SACxB,CAAC;KACL;IACL,YAAC;CAAA,IAAA;AAMD,uBAAqB,WAAqB;IAEtC,WAAW,CAAC,SAAS,CAAC,EAAE,GAAG,UAAS,SAAiB,EAAE,OAAiB;QACpE,IAAI,EAAE,GAAa,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,QAAQ,GAAkC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;QACxF,OAAO,IAAIX,iBAAmB,CAAC;YAC3B,SAAS,EAAE,SAAS;YACpB,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,QAAQ;YAClB,OAAO,EAAE,EAAE;SACd,CAAC,CAAC;KACN,CAAA;IAED,WAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAS,QAA6B;QAC9D,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;KACvD,CAAA;CACJ;AAOD,kCAAiC,OAAwB;IAAxB,0BAAA,eAAwB;IACrD,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;IAC3B,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;QACvB,IAAI,KAAK,GAAG,UAAU,GAAmB;YACrC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,IAAI,CAAC,IAAI,EAAE,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAChD,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG;YACnB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;YAC/C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,gDAAgD,CAAC;YAClF,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAS,CAAgB;YAChD,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;YAC/B,IAAI,KAAK,GAAG,EAAE,CAAC;YACf,IAAI,GAAG,CAAC,MAAM,IAAI,OAAO,GAAG,CAAC,MAAM,KAAK,QAAQ,EAAE;gBAC9C,KAAK,IAAI,aAAW,GAAG,CAAC,MAAM,MAAG,CAAC;aACrC;YACD,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,YAAY,KAAK,IAAI,GAAG,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtE,KAAK,IAAI,aAAW,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,WAAM,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,QAAK,CAAC;aAC7D;YACD,OAAO,KAAK,CAAC;SAChB,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG;YAAA,iBA+B/B;YA9BG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACzB,IAAI,OAAO,EAAE;gBACTF,eAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAChC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACrC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACjD,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,iCAAiC,CAAC;gBACxD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;gBAChD,IAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;oBACnC,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;iBAC9C;qBAAM;oBACH,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC/C;gBACD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACxC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;oBAC1C,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAClD,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;oBACxC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBACtC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;oBACzB,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC;wBAChC,KAAI,CAAC,IAAI,EAAE,CAAC;qBACf,CAAC,CAAC;oBACH,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;iBACnC;aACJ;iBAAM;gBACH,IAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;oBACnC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;iBACvC;qBAAM;oBACH,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxC;aACJ;SACJ,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG;YACpB,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC9B,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7C,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG;YACnB,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAEnC,IAAI,OAAO,EAAE;gBACT,IAAI,KAAK,GAAG,OAAO,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvD,IAAI,KAAK,GAAG,+BAA6B,CAAC,CAAC,KAAK,CAAC,CAAC,iBAAY,CAAC,CAAC,KAAK,CAAC,CAAC,QAAK,CAAC;gBAC7E,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClCY,QAAa,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aACnC;SACJ,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG;YACrB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SACpB,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,OAAyB;YAC5D,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAI,IAAI,GAAG,OAAO,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;YAClD,IAAI,OAAO,YAAY,OAAO,EAAE;gBAC5B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;aAC7B;iBAAM;gBACH,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;aAC5B;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,MAAyB;YAAzB,yBAAA,UAAoB,CAAC,EAAE,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAW;YACzC,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG;YACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAClB,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG;YACnB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;aACrC;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QACF,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG;YACnB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aACpC;YACD,OAAO,IAAI,CAAC;SACf,CAAC;QACF,OAAO,KAAK,CAAC;KAChB;CACJ;;ACjgBD,kBAAe,+hDAoEd,CAAC;;;ACxDa;IAOX,eAAY,OAA4B;QACpC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAE7B,IAAI,CAAC,IAAI,GAAG;YACR,WAAW,YAAC,CAAM;gBACd,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;aACtD;SACJ,CAAC;QACFX,YAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,KAAK,CAAC,SAAS,GAAG,WAAW,CAAC;QAC9B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACpC;IAGD,mBAAG,GAAH,UAAI,OAA2B,EAAE,GAAY;QACzC,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC7B,QAAQ,OAAO;gBACX,KAAK,MAAM,EAAE;oBACT,IAAI,CAAC,OAAO,GAAG,IAAIa,OAAK,EAAE,CAAC;oBAC3B,MAAM;iBACT;gBACD,KAAK,MAAM,EAAE;oBACT,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,EAAE,CAAC;oBAC3B,MAAM;iBACT;gBACD,KAAK,MAAM,EAAE;oBACT,IAAI,CAAC,OAAO,GAAG,IAAIC,KAAK,EAAE,CAAC;oBAC3B,MAAM;iBACT;gBACD,KAAK,MAAM,EAAE;iBAEZ;aACJ;SACJ;aAAM;YACH,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;SAC1B;QACD,OAAO,IAAI,CAAC;KACf;IAID,mBAAG,GAAH,UAAI,EAAqB;YAApB,WAAG;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KAChC;IAID,qBAAK,GAAL,UAAM,EAAsB;YAArB,WAAG;QACN,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KAClC;IAID,qBAAK,GAAL,UAAM,EAAsB;YAArB,WAAG;QACN,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KAClC;IAID,sBAAM,GAAN,UAAO,EAAwC;YAAvC,cAAM,EAAE,WAAG;QACf,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;KAC3C;IAID,wBAAQ,GAAR,UAAS,EAA6C;YAA5C,eAAO,EAAE,WAAG;QAClB,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;KAC9C;IAID,oBAAI,GAAJ,UAAK,EAAsB;YAArB,WAAG;QACL,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACjC;IAED,uBAAO,GAAP,UAAQ,GAAW,EAAE,OAAiB,EAAE,MAAgB;QACpD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;KAC3C;IArCD;QAAC,OAAO,EAAE;oCAAA;IAMV;QAAC,OAAO,EAAE;sCAAA;IAMV;QAAC,OAAO,EAAE;sCAAA;IAMV;QAAC,OAAO,EAAE;uCAAA;IAMV;QAAC,OAAO,EAAE;yCAAA;IAMV;QAAC,OAAO,EAAE;qCAAA;IAQd,YAAC;CAAA,IAAA;AAKD;IACI,OAAO,UAAS,MAAW,EAAE,WAAmB,EAAE,UAA8B;QAC5E,IAAI,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;QAC7B,UAAU,CAAC,KAAK,GAAE;YAAS,aAAa;iBAAb,YAAA,uBAAA,IAAa;gBAAb,4BAAa;;YACpC,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;YAClC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACjD,OAAO,KAAK,CAAC;SAChB,CAAC;KACL,CAAA;CACJ;;;;;;;;"}